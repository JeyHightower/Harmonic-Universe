import{_ as p,r as s,R as f,j as e,s as g,a as j,b as y,u as N,O as b}from"./index-7c6962df.js";let i;try{p(()=>import("./modalTypes-e6ca5be3.js"),[]).then(o=>{i=o.MODAL_TYPES}).catch(o=>{console.warn("MODAL_TYPES not available, using fallback"),i={LOGIN:"LOGIN",REGISTER:"REGISTER"}}),i={LOGIN:"LOGIN",REGISTER:"REGISTER"}}catch{console.warn("MODAL_TYPES not available, using fallback"),i={LOGIN:"LOGIN",REGISTER:"REGISTER"}}let c;try{p(()=>import("./authSlice-98ab73e3.js").then(o=>o.b),["assets/authSlice-98ab73e3.js","assets/axios-439bb627.js"]).then(o=>{c=o.demoLogin}).catch(o=>{console.warn("demoLogin not available, using fallback"),c=()=>(console.error("Demo login not implemented"),{type:"auth/demoLogin/rejected",error:"Not implemented"})}),c=()=>(console.error("Demo login not implemented"),{type:"auth/demoLogin/rejected",error:"Not implemented"})}catch{console.warn("demoLogin not available, using fallback"),c=()=>(console.error("Demo login not implemented"),{type:"auth/demoLogin/rejected",error:"Not implemented"})}const v=()=>e.jsxDEV("header",{className:"navbar-fallback",style:{padding:"10px 20px",backgroundColor:"#f0f0f0",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e.jsxDEV("h1",{style:{margin:0,fontSize:"1.5rem"},children:"Harmonic Universe"},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:71,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:66,columnNumber:5},globalThis),x=s.lazy(()=>p(()=>import("./Navbar-4b05613d.js"),["assets/Navbar-4b05613d.js","assets/index-7c6962df.js","assets/index-f57a3c64.css","assets/index-134886ff.js"]).catch(o=>(console.warn("[Layout] Navbar component not available, using fallback"),{default:v}))),L=()=>e.jsxDEV("footer",{className:"footer-fallback",style:{padding:"10px 20px",backgroundColor:"#f0f0f0",textAlign:"center",marginTop:"auto"},children:e.jsxDEV("p",{style:{margin:0},children:["Harmonic Universe Â© ",new Date().getFullYear()]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:92,columnNumber:9},globalThis)},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:86,columnNumber:5},globalThis),D=s.lazy(()=>p(()=>import("./Footer-53c53302.js"),["assets/Footer-53c53302.js","assets/index-7c6962df.js","assets/index-f57a3c64.css"]).catch(o=>(console.warn("[Layout] Footer component not available, using fallback"),{default:L})));class E extends f.Component{constructor(n){super(n),this.state={hasError:!1,error:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n,t){console.error("[Layout] Error caught in ContentErrorBoundary:",n),console.error("[Layout] Error info:",t),this.setState({error:n})}render(){var n;return this.state.hasError?e.jsxDEV("div",{className:"error-container",style:{padding:"20px",textAlign:"center",backgroundColor:"#ffdddd",borderRadius:"5px",margin:"20px 0"},children:[e.jsxDEV("h2",{children:"Something went wrong"},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:132,columnNumber:21},this),e.jsxDEV("p",{children:"An error occurred while rendering the content."},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:133,columnNumber:21},this),e.jsxDEV("p",{children:["Error: ",((n=this.state.error)==null?void 0:n.message)||"Unknown error"]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:134,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>window.location.reload(),style:{padding:"10px 15px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},children:"Reload Page"},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:135,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:125,columnNumber:17},this):this.props.children}}function A(){try{return e.jsxDEV(b,{},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:160,columnNumber:16},this)}catch(o){return console.error("[Layout] Error rendering Outlet:",o),e.jsxDEV("div",{className:"outlet-error",children:[e.jsxDEV("h2",{children:"Navigation Error"},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:165,columnNumber:17},this),e.jsxDEV("p",{children:"An error occurred when trying to render the route content."},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:166,columnNumber:17},this),e.jsxDEV("p",{children:["Error: ",o.message]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:167,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:164,columnNumber:13},this)}}function H(){const o=g(),n=j(),t=y();let a;try{a=N()}catch(r){console.error("[Layout] Error accessing modal context:",r),a=null}const l=a==null?void 0:a.openModal,[d,U]=s.useState(!1),[u,k]=s.useState(null);s.useEffect(()=>(console.log("[Layout] Component mounted successfully"),console.log("[Layout] Context check:",{location:!!o,navigate:!!n,dispatch:!!t,modalContext:!!a}),()=>{console.log("[Layout] Component unmounted")}),[]),s.useEffect(()=>{if(!l||!t){console.log("[Layout] Missing openModal or dispatch, skipping URL parameter handling");return}try{const r=new URLSearchParams(o.search),m=r.get("modal");m&&(console.log("[Layout] Detected modal parameter:",m),m==="login"?(console.log("[Layout] Opening login modal from URL parameter"),l(i.LOGIN)):m==="register"&&(console.log("[Layout] Opening register modal from URL parameter"),l(i.REGISTER))),r.get("demo")==="true"&&(console.log("[Layout] Demo login requested via URL parameter"),h())}catch(r){console.error("[Layout] Error handling URL parameters:",r)}},[o.search,l,t]);const h=async()=>{if(!t||typeof c!="function"){console.error("[Layout] Redux dispatch or demoLogin not available");return}console.log("[Layout] Executing demo login...");try{console.log("[Layout] Dispatching demo login action");const r=await t(c());r.meta&&r.meta.requestStatus==="fulfilled"?(console.log("[Layout] Demo login successful, navigating to dashboard"),n("/dashboard",{replace:!0})):console.error("[Layout] Demo login failed:",r.error)}catch(r){console.error("[Layout] Error during demo login:",r)}};return!d&&!u?e.jsxDEV("div",{style:{padding:"20px",textAlign:"center"},children:e.jsxDEV("p",{children:"Initializing layout..."},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:278,columnNumber:17},this)},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:277,columnNumber:13},this):u?e.jsxDEV("div",{style:{padding:"20px",textAlign:"center",color:"#ff4d4f"},children:[e.jsxDEV("h3",{children:"Layout Error"},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:287,columnNumber:17},this),e.jsxDEV("p",{children:["Failed to initialize layout: ",u.message]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:288,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>window.location.reload(),style:{padding:"5px 10px",marginTop:"10px"},children:"Reload Page"},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:289,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:286,columnNumber:13},this):e.jsxDEV("div",{className:"app-layout",children:[e.jsxDEV(s.Suspense,{fallback:e.jsxDEV("div",{children:"Loading Navbar..."},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:302,columnNumber:33},this),children:e.jsxDEV(x,{},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:303,columnNumber:17},this)},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:302,columnNumber:13},this),e.jsxDEV("main",{className:"app-content",children:e.jsxDEV(E,{children:e.jsxDEV(A,{},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:307,columnNumber:21},this)},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:306,columnNumber:17},this)},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:305,columnNumber:13},this),e.jsxDEV(s.Suspense,{fallback:e.jsxDEV("div",{children:"Loading Footer..."},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:310,columnNumber:33},this),children:e.jsxDEV(D,{},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:311,columnNumber:17},this)},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:310,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/components/Layout.jsx",lineNumber:301,columnNumber:9},this)}export{H as default};
//# sourceMappingURL=Layout-98108efd.js.map
