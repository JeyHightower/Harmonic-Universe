import{R as n,j as o}from"./index-7c6962df.js";import{a as h}from"./axios-439bb627.js";const p=e=>{const s=n.useRef(!1),[l,u]=n.useState(e);n.useEffect(()=>(s.current=!0,()=>{s.current=!1}),[]);const i=n.useCallback(a=>{s.current&&u(a)},[]);return[l,i]},d="http://localhost:8000",r=h.create({baseURL:d,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{const s=localStorage.getItem("token");return s&&(e.headers.Authorization=`Bearer ${s}`),e},e=>Promise.reject(e));r.interceptors.response.use(e=>e,async e=>{var s;return((s=e.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});const t={auth:{login:"/auth/login",register:"/auth/register",logout:"/auth/logout"},user:{profile:"/user/profile",settings:"/user/settings"},universes:{list:"/universes",create:"/universes",get:e=>`/universes/${e}`,update:e=>`/universes/${e}`,delete:e=>`/universes/${e}`}},f={login:e=>r.post(t.auth.login,e),register:e=>r.post(t.auth.register,e),logout:()=>r.post(t.auth.logout),getUserProfile:()=>r.get(t.user.profile),updateUserProfile:e=>r.put(t.user.profile,e),updateUserSettings:e=>r.put(t.user.settings,e),getUniverses:()=>r.get(t.universes.list),createUniverse:e=>r.post(t.universes.create,e),getUniverse:e=>r.get(t.universes.get(e)),updateUniverse:(e,s)=>r.put(t.universes.update(e),s),deleteUniverse:e=>r.delete(t.universes.delete(e))},j=()=>{const[e,s]=p([]),[l,u]=p(!0),[i,a]=p(null);return n.useEffect(()=>{(async()=>{try{const m=await f.getUniverses();s(m.data),a(null)}catch(m){a("Failed to load universes"),console.error("Error fetching universes:",m)}finally{u(!1)}})()},[]),l?o.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/features/home/Home.jsx",lineNumber:27,columnNumber:23},globalThis):i?o.jsxDEV("div",{children:["Error: ",i]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/features/home/Home.jsx",lineNumber:28,columnNumber:21},globalThis):o.jsxDEV("div",{className:"home",children:[o.jsxDEV("h1",{children:"Welcome to Harmonic Universe"},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/features/home/Home.jsx",lineNumber:32,columnNumber:7},globalThis),o.jsxDEV("div",{className:"universes-list",children:e.length===0?o.jsxDEV("p",{children:"No universes found. Create your first one!"},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/features/home/Home.jsx",lineNumber:35,columnNumber:11},globalThis):e.map(c=>o.jsxDEV("div",{className:"universe-card",children:[o.jsxDEV("h3",{children:c.name},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/features/home/Home.jsx",lineNumber:39,columnNumber:15},globalThis),o.jsxDEV("p",{children:c.description},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/features/home/Home.jsx",lineNumber:40,columnNumber:15},globalThis)]},c.id,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/features/home/Home.jsx",lineNumber:38,columnNumber:13},globalThis))},void 0,!1,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/features/home/Home.jsx",lineNumber:33,columnNumber:7},globalThis)]},void 0,!0,{fileName:"/Users/jameshightower/Desktop/AppAcademy/capstone/projects/Harmonic-Universe/frontend/src/features/home/Home.jsx",lineNumber:31,columnNumber:5},globalThis)};export{j as default};
//# sourceMappingURL=Home-71120cdc.js.map
