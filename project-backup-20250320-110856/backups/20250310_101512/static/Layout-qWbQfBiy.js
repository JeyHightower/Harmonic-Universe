import{j as e,L as s,u,a as h,r as i,R as g,O as f}from"./index-CMYrLL06.js";function m(){return e.jsxs("header",{style:{borderBottom:"1px solid #eaeaea",padding:"1rem 2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("div",{className:"logo",children:e.jsx(s,{to:"/",style:{textDecoration:"none",color:"#1890ff",fontWeight:"bold",fontSize:"1.5rem"},children:"Harmonic Universe"})}),e.jsx("nav",{children:e.jsxs("ul",{style:{display:"flex",gap:"1.5rem",listStyle:"none",margin:0,padding:0},children:[e.jsx("li",{children:e.jsx(s,{to:"/",style:{textDecoration:"none",color:"#333"},children:"Home"})}),e.jsx("li",{children:e.jsx(s,{to:"/dashboard",style:{textDecoration:"none",color:"#333"},children:"Dashboard"})}),e.jsx("li",{children:e.jsx(s,{to:"/profile",style:{textDecoration:"none",color:"#333"},children:"Profile"})}),e.jsx("li",{children:e.jsx(s,{to:"/login",style:{textDecoration:"none",color:"#333"},children:"Login"})})]})})]})}function j(){return e.jsx("footer",{style:{textAlign:"center",padding:"1rem",borderTop:"1px solid #eaeaea",marginTop:"2rem"},children:e.jsxs("p",{children:["Â© ",new Date().getFullYear()," Harmonic Universe. All rights reserved."]})})}class y extends g.Component{constructor(t){super(t),this.state={hasError:!1,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(t,n){console.error("Content error caught:",t),console.error("Component stack:",n.componentStack),this.setState({errorInfo:n})}render(){return this.state.hasError?e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#ff4d4f"},children:[e.jsx("h3",{children:"Content Error"}),e.jsx("p",{children:"There was a problem loading this content."}),e.jsx("button",{onClick:()=>this.setState({hasError:!1,errorInfo:null}),style:{padding:"5px 10px",marginTop:"10px"},children:"Try Again"}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"5px 10px",marginTop:"10px",marginLeft:"10px"},children:"Reload Page"})]}):this.props.children}}function E(){const[r,t]=i.useState(null);i.useEffect(()=>{t(null)},[]);try{return e.jsx(f,{})}catch(n){return r||t(n),console.error("Error rendering Outlet:",n),e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#ff4d4f"},children:[e.jsx("h3",{children:"Rendering Error"}),e.jsxs("p",{children:["Failed to render content: ",(r==null?void 0:r.message)||"Unknown error"]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"5px 10px",marginTop:"10px"},children:"Reload Page"})]})}}function v(){let r,t;try{r=u(),t=h()}catch(o){console.error("Error accessing router hooks:",o)}const[n,p]=i.useState(!1),[c,d]=i.useState(null),x=i.useCallback(()=>{if(!(!r||!r.search))try{console.log("[Layout] Processing URL parameters");const a=new URLSearchParams(r.search).get("redirect");a&&t&&(console.log(`[Layout] Navigating to: ${a}`),setTimeout(()=>{try{t(a,{replace:!0})}catch(l){console.error("[Layout] Navigation error:",l)}},0))}catch(o){console.error("[Layout] Error processing URL parameters:",o),d(o)}},[r,t]);return i.useEffect(()=>{let o=!0;return(async()=>{try{console.log("[Layout] Component mounting..."),r&&setTimeout(()=>{o&&x()},50),o&&p(!0)}catch(l){console.error("[Layout] Initialization error:",l),o&&d(l)}})(),()=>{o=!1,console.log("[Layout] Component unmounted")}},[r,x]),!n&&!c?e.jsx("div",{style:{padding:"20px",textAlign:"center"},children:e.jsx("p",{children:"Initializing layout..."})}):c?e.jsxs("div",{style:{padding:"20px",textAlign:"center",color:"#ff4d4f"},children:[e.jsx("h3",{children:"Layout Error"}),e.jsxs("p",{children:["Failed to initialize layout: ",c.message]}),e.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"5px 10px",marginTop:"10px"},children:"Reload Page"})]}):e.jsxs("div",{className:"app-layout",children:[e.jsx(m,{}),e.jsx("main",{className:"app-content",children:e.jsx(y,{children:e.jsx(E,{})})}),e.jsx(j,{})]})}export{v as default};
