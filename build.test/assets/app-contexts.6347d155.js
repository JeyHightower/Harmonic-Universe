import{r as e,j as s}from"./vendor-react-core.73efc664.js";import{P as o}from"./vendor-react-props.65efe0a6.js";import{u as r,a as t}from"./vendor-react-redux.ca23f922.js";import{e as a,a as n,M as i,b as p,c,d,m as u}from"./app-utils.cd93f9c5.js";import{s as l,a as m,b as f,c as y,d as h,e as j,o as x,u as C}from"./app-redux-other-slices.a7022ed8.js";const E=e.createContext(),T=()=>{const s=e.useContext(E);if(!s)throw new Error("useModal must be used within a ModalProvider");return s},v=({type:o,props:r,onClose:t})=>{const[a,l]=e.useState(null),[m,f]=e.useState(!0);if(e.useEffect((()=>{(async()=>{try{const e=await u.getModalComponent(o);e&&l((()=>e))}catch(e){}finally{f(!1)}})()}),[o]),m)return s.jsx("div",{children:"Loading modal..."});if(!a)return null;const y={...r,..."SCENE_FORM"===o&&{modalType:r.modalType||"create",mode:r.modalType||"create",open:!0}};return s.jsx(a,{open:!0,isOpen:!0,onClose:t,...y,style:{...n(r.size||i.SIZES.MEDIUM),...p(o),...c(r.animation||i.ANIMATIONS.FADE),...d(r.position||i.POSITIONS.CENTER),...r.style}})};v.propTypes={type:o.string.isRequired,props:o.object.isRequired,onClose:o.func.isRequired};const M=({children:o})=>{const n=r();t(l);const i=t(m),p=t(f),c=t(y),d={open:(e,s={})=>n(x({type:e,props:s})),close:()=>n(j()),updateProps:e=>n(C(e)),isOpen:i,type:p,props:c,isTransitioning:t(h)};return e.useEffect((()=>{a()}),[]),s.jsxs(E.Provider,{value:d,children:[o,i&&s.jsx(e.Suspense,{fallback:s.jsx("div",{children:"Loading..."}),children:s.jsx(v,{type:p,props:c,onClose:()=>n(j())})})]})};M.propTypes={children:o.node.isRequired};const S=e.createContext(),w=()=>{const s=e.useContext(S);if(!s)throw new Error("useTheme must be used within a ThemeProvider");return s};export{M,w as a,T as u};
