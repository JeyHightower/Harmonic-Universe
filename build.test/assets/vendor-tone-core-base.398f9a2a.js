import{aP as t}from"./vendor-tone-util.a79eb63f.js";import{e,f as i,g as s,v as n,j as r}from"./vendor-tone-helpers.07e4d08d.js";import{d as o}from"./vendor-tone-defaults.617853c7.js";import{i as a,C as h}from"./vendor-tone-cancel.b93f499f.js";import{a as c}from"./vendor-tone-adapters.ec1cb8a7.js";import"./vendor-tone-lodash.1d9c6a83.js";import{k as u,p as l}from"./vendor-tone-events.9afa7530.js";import{a as p,o as d,b as f,i as m,c as _,d as g,e as v,f as T}from"./vendor-tone-audio.70450c41.js";import{V as b}from"./vendor-tone-components.680c7d7e.js";import{S as x,P as y}from"./vendor-tone-signal.648ab60f.js";import{D as w}from"./vendor-tone-esm.8edb30e2.js";import{a as k}from"./vendor-tone-tslib.f5f62bcb.js";function A(t,e,i,s,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),i&&(this.config=i),s&&(this.request=s),n&&(this.response=n,this.status=n.status?n.status:null)}t.inherits(A,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:t.toJSONObject(this.config),code:this.code,status:this.status}}});const S=A.prototype,O={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{O[t]={value:t}})),Object.defineProperties(A,O),Object.defineProperty(S,"isAxiosError",{value:!0}),A.from=(e,i,s,n,r,o)=>{const a=Object.create(S);return t.toFlatObject(e,a,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t)),A.call(a,e.message,i,s,n,r),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const E=class{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){t.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},R=Symbol("internals");function C(t){return t&&String(t).trim().toLowerCase()}function P(e){return!1===e||null==e?e:t.isArray(e)?e.map(P):String(e)}function D(e,i,s,n,r){return t.isFunction(n)?n.call(this,i,s):(r&&(i=s),t.isString(i)?t.isString(n)?-1!==i.indexOf(n):t.isRegExp(n)?n.test(i):void 0:void 0)}class V{constructor(t){t&&this.set(t)}set(i,s,n){const r=this;function o(e,i,s){const n=C(i);if(!n)throw new Error("header name must be a non-empty string");const o=t.findKey(r,n);(!o||void 0===r[o]||!0===s||void 0===s&&!1!==r[o])&&(r[o||i]=P(e))}const a=(e,i)=>t.forEach(e,((t,e)=>o(t,e,i)));if(t.isPlainObject(i)||i instanceof this.constructor)a(i,s);else if(t.isString(i)&&(i=i.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim()))a(e(i),s);else if(t.isHeaders(i))for(const[t,e]of i.entries())o(e,t,n);else null!=i&&o(s,i,n);return this}get(e,i){if(e=C(e)){const s=t.findKey(this,e);if(s){const e=this[s];if(!i)return e;if(!0===i)return function(t){const e=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=i.exec(t);)e[s[1]]=s[2];return e}(e);if(t.isFunction(i))return i.call(this,e,s);if(t.isRegExp(i))return i.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,i){if(e=C(e)){const s=t.findKey(this,e);return!(!s||void 0===this[s]||i&&!D(0,this[s],s,i))}return!1}delete(e,i){const s=this;let n=!1;function r(e){if(e=C(e)){const r=t.findKey(s,e);!r||i&&!D(0,s[r],r,i)||(delete s[r],n=!0)}}return t.isArray(e)?e.forEach(r):r(e),n}clear(t){const e=Object.keys(this);let i=e.length,s=!1;for(;i--;){const n=e[i];t&&!D(0,this[n],n,t,!0)||(delete this[n],s=!0)}return s}normalize(e){const i=this,s={};return t.forEach(this,((n,r)=>{const o=t.findKey(s,r);if(o)return i[o]=P(n),void delete i[r];const a=e?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,i)=>e.toUpperCase()+i))}(r):String(r).trim();a!==r&&delete i[r],i[a]=P(n),s[a]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(e){const i=Object.create(null);return t.forEach(this,((s,n)=>{null!=s&&!1!==s&&(i[n]=e&&t.isArray(s)?s.join(", "):s)})),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach((t=>i.set(t))),i}static accessor(e){const i=(this[R]=this[R]={accessors:{}}).accessors,s=this.prototype;function n(e){const n=C(e);i[n]||(!function(e,i){const s=t.toCamelCase(" "+i);["get","set","has"].forEach((t=>{Object.defineProperty(e,t+s,{value:function(e,s,n){return this[t].call(this,i,e,s,n)},configurable:!0})}))}(s,e),i[n]=!0)}return t.isArray(e)?e.forEach(n):n(e),this}}V.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),t.reduceDescriptors(V.prototype,(({value:t},e)=>{let i=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[i]=t}}})),t.freezeMethods(V);const M=V;function j(e,i){const s=this||o,n=i||s,r=M.from(n.headers);let a=n.data;return t.forEach(e,(function(t){a=t.call(s,a,r.normalize(),i?i.status:void 0)})),r.normalize(),a}function U(t,e,i){const s=i.config.validateStatus;i.status&&s&&!s(i.status)?e(new A("Request failed with status code "+i.status,[A.ERR_BAD_REQUEST,A.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):t(i)}function I(t,e,n){let r=!s(e);return t&&(r||0==n)?i(t,e):e}const q=t=>t instanceof M?{...t}:t;function N(e,i){i=i||{};const s={};function n(e,i,s,n){return t.isPlainObject(e)&&t.isPlainObject(i)?t.merge.call({caseless:n},e,i):t.isPlainObject(i)?t.merge({},i):t.isArray(i)?i.slice():i}function r(e,i,s,r){return t.isUndefined(i)?t.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,i,0,r)}function o(e,i){if(!t.isUndefined(i))return n(void 0,i)}function a(e,i){return t.isUndefined(i)?t.isUndefined(e)?void 0:n(void 0,e):n(void 0,i)}function h(t,s,r){return r in i?n(t,s):r in e?n(void 0,t):void 0}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:h,headers:(t,e,i)=>r(q(t),q(e),0,!0)};return t.forEach(Object.keys(Object.assign({},e,i)),(function(n){const o=c[n]||r,a=o(e[n],i[n],n);t.isUndefined(a)&&o!==h||(s[n]=a)})),s}function F(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new h(null,t)}function B(t){F(t),t.headers=M.from(t.headers),t.data=j.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return c.getAdapter(t.adapter||o.adapter)(t).then((function(e){return F(t),e.data=j.call(t,t.transformResponse,e),e.headers=M.from(e.headers),e}),(function(e){return a(e)||(F(t),e&&e.response&&(e.response.data=j.call(t,t.transformResponse,e.response),e.response.headers=M.from(e.response.headers))),Promise.reject(e)}))}const L=n.validators;class W{constructor(t){this.defaults=t,this.interceptors={request:new E,response:new E}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const e=t.stack?t.stack.replace(/^.+\n/,""):"";try{i.stack?e&&!String(i.stack).endsWith(e.replace(/^.+\n.+\n/,""))&&(i.stack+="\n"+e):i.stack=e}catch(s){}}throw i}}_request(e,i){"string"==typeof e?(i=i||{}).url=e:i=e||{},i=N(this.defaults,i);const{transitional:s,paramsSerializer:r,headers:o}=i;void 0!==s&&n.assertOptions(s,{silentJSONParsing:L.transitional(L.boolean),forcedJSONParsing:L.transitional(L.boolean),clarifyTimeoutError:L.transitional(L.boolean)},!1),null!=r&&(t.isFunction(r)?i.paramsSerializer={serialize:r}:n.assertOptions(r,{encode:L.function,serialize:L.function},!0)),void 0!==i.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),n.assertOptions(i,{baseUrl:L.spelling("baseURL"),withXsrfToken:L.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let a=o&&t.merge(o.common,o[i.method]);o&&t.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete o[t]})),i.headers=M.concat(a,o);const h=[];let c=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(i)||(c=c&&t.synchronous,h.unshift(t.fulfilled,t.rejected))}));const u=[];let l;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let p,d=0;if(!c){const t=[B.bind(this),void 0];for(t.unshift.apply(t,h),t.push.apply(t,u),p=t.length,l=Promise.resolve(i);d<p;)l=l.then(t[d++],t[d++]);return l}p=h.length;let f=i;for(d=0;d<p;){const t=h[d++],e=h[d++];try{f=t(f)}catch(m){e.call(this,m);break}}try{l=B.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,p=u.length;d<p;)l=l.then(u[d++],u[d++]);return l}getUri(t){const e=I((t=N(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls);return r(e,t.params,t.paramsSerializer)}}t.forEach(["delete","get","head","options"],(function(t){W.prototype[t]=function(e,i){return this.request(N(i||{},{method:t,url:e,data:(i||{}).data}))}})),t.forEach(["post","put","patch"],(function(t){function e(e){return function(i,s,n){return this.request(N(n||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}W.prototype[t]=e(),W.prototype[t+"Form"]=e(!0)}));const H=W;var z="top",$="bottom",J="right",X="left",Y="auto",G=[z,$,J,X],Q="start",Z="end",K="viewport",tt="popper",et=G.reduce((function(t,e){return t.concat([e+"-"+Q,e+"-"+Z])}),[]),it=[].concat(G,[Y]).reduce((function(t,e){return t.concat([e,e+"-"+Q,e+"-"+Z])}),[]),st=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function nt(t){return t?(t.nodeName||"").toLowerCase():null}function rt(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ot(t){return t instanceof rt(t).Element||t instanceof Element}function at(t){return t instanceof rt(t).HTMLElement||t instanceof HTMLElement}function ht(t){return"undefined"!=typeof ShadowRoot&&(t instanceof rt(t).ShadowRoot||t instanceof ShadowRoot)}const ct={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},n=e.elements[t];at(n)&&nt(n)&&(Object.assign(n.style,i),Object.keys(s).forEach((function(t){var e=s[t];!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var s=e.elements[t],n=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});at(s)&&nt(s)&&(Object.assign(s.style,r),Object.keys(n).forEach((function(t){s.removeAttribute(t)})))}))}},requires:["computeStyles"]};function ut(t){return t.split("-")[0]}var lt=Math.max,pt=Math.min,dt=Math.round;function ft(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function mt(){return!/^((?!chrome|android).)*safari/i.test(ft())}function _t(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var s=t.getBoundingClientRect(),n=1,r=1;e&&at(t)&&(n=t.offsetWidth>0&&dt(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&dt(s.height)/t.offsetHeight||1);var o=(ot(t)?rt(t):window).visualViewport,a=!mt()&&i,h=(s.left+(a&&o?o.offsetLeft:0))/n,c=(s.top+(a&&o?o.offsetTop:0))/r,u=s.width/n,l=s.height/r;return{width:u,height:l,top:c,right:h+u,bottom:c+l,left:h,x:h,y:c}}function gt(t){var e=_t(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function vt(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&ht(i)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function Tt(t){return rt(t).getComputedStyle(t)}function bt(t){return["table","td","th"].indexOf(nt(t))>=0}function xt(t){return((ot(t)?t.ownerDocument:t.document)||window.document).documentElement}function yt(t){return"html"===nt(t)?t:t.assignedSlot||t.parentNode||(ht(t)?t.host:null)||xt(t)}function wt(t){return at(t)&&"fixed"!==Tt(t).position?t.offsetParent:null}function kt(t){for(var e=rt(t),i=wt(t);i&&bt(i)&&"static"===Tt(i).position;)i=wt(i);return i&&("html"===nt(i)||"body"===nt(i)&&"static"===Tt(i).position)?e:i||function(t){var e=/firefox/i.test(ft());if(/Trident/i.test(ft())&&at(t)&&"fixed"===Tt(t).position)return null;var i=yt(t);for(ht(i)&&(i=i.host);at(i)&&["html","body"].indexOf(nt(i))<0;){var s=Tt(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(t)||e}function At(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function St(t,e,i){return lt(t,pt(e,i))}function Ot(t,e,i){var s=St(t,e,i);return s>i?i:s}function Et(){return{top:0,right:0,bottom:0,left:0}}function Rt(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Ct(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}function Pt(t){return t.split("-")[1]}var Dt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(t){var e,i=t.popper,s=t.popperRect,n=t.placement,r=t.variation,o=t.offsets,a=t.position,h=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,l=t.isFixed,p=o.x,d=void 0===p?0:p,f=o.y,m=void 0===f?0:f,_="function"==typeof u?u({x:d,y:m}):{x:d,y:m};d=_.x,m=_.y;var g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),T=X,b=z,x=window;if(c){var y=kt(i),w="clientHeight",k="clientWidth";if(y===rt(i)&&"static"!==Tt(y=xt(i)).position&&"absolute"===a&&(w="scrollHeight",k="scrollWidth"),n===z||(n===X||n===J)&&r===Z)b=$,m-=(l&&y===x&&x.visualViewport?x.visualViewport.height:y[w])-s.height,m*=h?1:-1;if(n===X||(n===z||n===$)&&r===Z)T=J,d-=(l&&y===x&&x.visualViewport?x.visualViewport.width:y[k])-s.width,d*=h?1:-1}var A,S=Object.assign({position:a},c&&Dt),O=!0===u?function(t,e){var i=t.x,s=t.y,n=e.devicePixelRatio||1;return{x:dt(i*n)/n||0,y:dt(s*n)/n||0}}({x:d,y:m},rt(i)):{x:d,y:m};return d=O.x,m=O.y,h?Object.assign({},S,((A={})[b]=v?"0":"",A[T]=g?"0":"",A.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",A)):Object.assign({},S,((e={})[b]=v?m+"px":"",e[T]=g?d+"px":"",e.transform="",e))}var Mt={left:"right",right:"left",bottom:"top",top:"bottom"};function jt(t){return t.replace(/left|right|bottom|top/g,(function(t){return Mt[t]}))}var Ut={start:"end",end:"start"};function It(t){return t.replace(/start|end/g,(function(t){return Ut[t]}))}function qt(t){var e=rt(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Nt(t){return _t(xt(t)).left+qt(t).scrollLeft}function Ft(t){var e=Tt(t),i=e.overflow,s=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+s)}function Bt(t){return["html","body","#document"].indexOf(nt(t))>=0?t.ownerDocument.body:at(t)&&Ft(t)?t:Bt(yt(t))}function Lt(t,e){var i;void 0===e&&(e=[]);var s=Bt(t),n=s===(null==(i=t.ownerDocument)?void 0:i.body),r=rt(s),o=n?[r].concat(r.visualViewport||[],Ft(s)?s:[]):s,a=e.concat(o);return n?a:a.concat(Lt(yt(o)))}function Wt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Ht(t,e,i){return e===K?Wt(function(t,e){var i=rt(t),s=xt(t),n=i.visualViewport,r=s.clientWidth,o=s.clientHeight,a=0,h=0;if(n){r=n.width,o=n.height;var c=mt();(c||!c&&"fixed"===e)&&(a=n.offsetLeft,h=n.offsetTop)}return{width:r,height:o,x:a+Nt(t),y:h}}(t,i)):ot(e)?function(t,e){var i=_t(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):Wt(function(t){var e,i=xt(t),s=qt(t),n=null==(e=t.ownerDocument)?void 0:e.body,r=lt(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=lt(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-s.scrollLeft+Nt(t),h=-s.scrollTop;return"rtl"===Tt(n||i).direction&&(a+=lt(i.clientWidth,n?n.clientWidth:0)-r),{width:r,height:o,x:a,y:h}}(xt(t)))}function zt(t,e,i,s){var n="clippingParents"===e?function(t){var e=Lt(yt(t)),i=["absolute","fixed"].indexOf(Tt(t).position)>=0&&at(t)?kt(t):t;return ot(i)?e.filter((function(t){return ot(t)&&vt(t,i)&&"body"!==nt(t)})):[]}(t):[].concat(e),r=[].concat(n,[i]),o=r[0],a=r.reduce((function(e,i){var n=Ht(t,i,s);return e.top=lt(n.top,e.top),e.right=pt(n.right,e.right),e.bottom=pt(n.bottom,e.bottom),e.left=lt(n.left,e.left),e}),Ht(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $t(t){var e,i=t.reference,s=t.element,n=t.placement,r=n?ut(n):null,o=n?Pt(n):null,a=i.x+i.width/2-s.width/2,h=i.y+i.height/2-s.height/2;switch(r){case z:e={x:a,y:i.y-s.height};break;case $:e={x:a,y:i.y+i.height};break;case J:e={x:i.x+i.width,y:h};break;case X:e={x:i.x-s.width,y:h};break;default:e={x:i.x,y:i.y}}var c=r?At(r):null;if(null!=c){var u="y"===c?"height":"width";switch(o){case Q:e[c]=e[c]-(i[u]/2-s[u]/2);break;case Z:e[c]=e[c]+(i[u]/2-s[u]/2)}}return e}function Jt(t,e){void 0===e&&(e={});var i=e,s=i.placement,n=void 0===s?t.placement:s,r=i.strategy,o=void 0===r?t.strategy:r,a=i.boundary,h=void 0===a?"clippingParents":a,c=i.rootBoundary,u=void 0===c?K:c,l=i.elementContext,p=void 0===l?tt:l,d=i.altBoundary,f=void 0!==d&&d,m=i.padding,_=void 0===m?0:m,g=Rt("number"!=typeof _?_:Ct(_,G)),v=p===tt?"reference":tt,T=t.rects.popper,b=t.elements[f?v:p],x=zt(ot(b)?b:b.contextElement||xt(t.elements.popper),h,u,o),y=_t(t.elements.reference),w=$t({reference:y,element:T,strategy:"absolute",placement:n}),k=Wt(Object.assign({},T,w)),A=p===tt?k:y,S={top:x.top-A.top+g.top,bottom:A.bottom-x.bottom+g.bottom,left:x.left-A.left+g.left,right:A.right-x.right+g.right},O=t.modifiersData.offset;if(p===tt&&O){var E=O[n];Object.keys(S).forEach((function(t){var e=[J,$].indexOf(t)>=0?1:-1,i=[z,$].indexOf(t)>=0?"y":"x";S[t]+=E[i]*e}))}return S}function Xt(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Yt(t){return[z,J,$,X].some((function(e){return t[e]>=0}))}function Gt(t){return"x"===t?"y":"x"}function Qt(t,e,i){void 0===i&&(i=!1);var s,n,r=at(e),o=at(e)&&function(t){var e=t.getBoundingClientRect(),i=dt(e.width)/t.offsetWidth||1,s=dt(e.height)/t.offsetHeight||1;return 1!==i||1!==s}(e),a=xt(e),h=_t(t,o,i),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!i)&&(("body"!==nt(e)||Ft(a))&&(c=(s=e)!==rt(s)&&at(s)?{scrollLeft:(n=s).scrollLeft,scrollTop:n.scrollTop}:qt(s)),at(e)?((u=_t(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):a&&(u.x=Nt(a))),{x:h.left+c.scrollLeft-u.x,y:h.top+c.scrollTop-u.y,width:h.width,height:h.height}}function Zt(t){var e=new Map,i=new Set,s=[];function n(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var s=e.get(t);s&&n(s)}})),s.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||n(t)})),s}var Kt={placement:"bottom",modifiers:[],strategy:"absolute"};function te(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function ee(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,s=void 0===i?[]:i,n=e.defaultOptions,r=void 0===n?Kt:n;return function(t,e,i){void 0===i&&(i=r);var n,o,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kt,r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},h=[],c=!1,u={state:a,setOptions:function(i){var n="function"==typeof i?i(a.options):i;l(),a.options=Object.assign({},r,a.options,n),a.scrollParents={reference:ot(t)?Lt(t):t.contextElement?Lt(t.contextElement):[],popper:Lt(e)};var o,c,p=function(t){var e=Zt(t);return st.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}((o=[].concat(s,a.options.modifiers),c=o.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return a.orderedModifiers=p.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,s=void 0===i?{}:i,n=t.effect;if("function"==typeof n){var r=n({state:a,name:e,instance:u,options:s}),o=function(){};h.push(r||o)}})),u.update()},forceUpdate:function(){if(!c){var t=a.elements,e=t.reference,i=t.popper;if(te(e,i)){a.rects={reference:Qt(e,kt(i),"fixed"===a.options.strategy),popper:gt(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var s=0;s<a.orderedModifiers.length;s++)if(!0!==a.reset){var n=a.orderedModifiers[s],r=n.fn,o=n.options,h=void 0===o?{}:o,l=n.name;"function"==typeof r&&(a=r({state:a,options:h,name:l,instance:u})||a)}else a.reset=!1,s=-1}}},update:(n=function(){return new Promise((function(t){u.forceUpdate(),t(a)}))},function(){return o||(o=new Promise((function(t){Promise.resolve().then((function(){o=void 0,t(n())}))}))),o}),destroy:function(){l(),c=!0}};if(!te(t,e))return u;function l(){h.forEach((function(t){return t()})),h=[]}return u.setOptions(i).then((function(t){!c&&i.onFirstUpdate&&i.onFirstUpdate(t)})),u}}var ie=ee({defaultModifiers:[u,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=$t({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,s=i.gpuAcceleration,n=void 0===s||s,r=i.adaptive,o=void 0===r||r,a=i.roundOffsets,h=void 0===a||a,c={placement:ut(e.placement),variation:Pt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,Vt(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:h})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,Vt(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},ct,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,s=t.name,n=i.offset,r=void 0===n?[0,0]:n,o=it.reduce((function(t,i){return t[i]=function(t,e,i){var s=ut(t),n=[X,z].indexOf(s)>=0?-1:1,r="function"==typeof i?i(Object.assign({},e,{placement:t})):i,o=r[0],a=r[1];return o=o||0,a=(a||0)*n,[X,J].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}(i,e.rects,r),t}),{}),a=o[e.placement],h=a.x,c=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=c),e.modifiersData[s]=o}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var n=i.mainAxis,r=void 0===n||n,o=i.altAxis,a=void 0===o||o,h=i.fallbackPlacements,c=i.padding,u=i.boundary,l=i.rootBoundary,p=i.altBoundary,d=i.flipVariations,f=void 0===d||d,m=i.allowedAutoPlacements,_=e.options.placement,g=ut(_),v=h||(g===_||!f?[jt(_)]:function(t){if(ut(t)===Y)return[];var e=jt(t);return[It(t),e,It(e)]}(_)),T=[_].concat(v).reduce((function(t,i){return t.concat(ut(i)===Y?function(t,e){void 0===e&&(e={});var i=e,s=i.placement,n=i.boundary,r=i.rootBoundary,o=i.padding,a=i.flipVariations,h=i.allowedAutoPlacements,c=void 0===h?it:h,u=Pt(s),l=u?a?et:et.filter((function(t){return Pt(t)===u})):G,p=l.filter((function(t){return c.indexOf(t)>=0}));0===p.length&&(p=l);var d=p.reduce((function(e,i){return e[i]=Jt(t,{placement:i,boundary:n,rootBoundary:r,padding:o})[ut(i)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}(e,{placement:i,boundary:u,rootBoundary:l,padding:c,flipVariations:f,allowedAutoPlacements:m}):i)}),[]),b=e.rects.reference,x=e.rects.popper,y=new Map,w=!0,k=T[0],A=0;A<T.length;A++){var S=T[A],O=ut(S),E=Pt(S)===Q,R=[z,$].indexOf(O)>=0,C=R?"width":"height",P=Jt(e,{placement:S,boundary:u,rootBoundary:l,altBoundary:p,padding:c}),D=R?E?J:X:E?$:z;b[C]>x[C]&&(D=jt(D));var V=jt(D),M=[];if(r&&M.push(P[O]<=0),a&&M.push(P[D]<=0,P[V]<=0),M.every((function(t){return t}))){k=S,w=!1;break}y.set(S,M)}if(w)for(var j=function(t){var e=T.find((function(e){var i=y.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return k=e,"break"},U=f?3:1;U>0;U--){if("break"===j(U))break}e.placement!==k&&(e.modifiersData[s]._skip=!0,e.placement=k,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},l,{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,s=t.name,n=t.options,r=i.elements.arrow,o=i.modifiersData.popperOffsets,a=ut(i.placement),h=At(a),c=[X,J].indexOf(a)>=0?"height":"width";if(r&&o){var u=function(t,e){return Rt("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Ct(t,G))}(n.padding,i),l=gt(r),p="y"===h?z:X,d="y"===h?$:J,f=i.rects.reference[c]+i.rects.reference[h]-o[h]-i.rects.popper[c],m=o[h]-i.rects.reference[h],_=kt(r),g=_?"y"===h?_.clientHeight||0:_.clientWidth||0:0,v=f/2-m/2,T=u[p],b=g-l[c]-u[d],x=g/2-l[c]/2+v,y=St(T,x,b),w=h;i.modifiersData[s]=((e={})[w]=y,e.centerOffset=y-x,e)}},effect:function(t){var e=t.state,i=t.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"!=typeof s||(s=e.elements.popper.querySelector(s)))&&vt(e.elements.popper,s)&&(e.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,s=e.rects.reference,n=e.rects.popper,r=e.modifiersData.preventOverflow,o=Jt(e,{elementContext:"reference"}),a=Jt(e,{altBoundary:!0}),h=Xt(o,s),c=Xt(a,n,r),u=Yt(h),l=Yt(c);e.modifiersData[i]={referenceClippingOffsets:h,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:l},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":l})}}]});function se(t){return void 0===t}function ne(t){return void 0!==t}function re(t){return"function"==typeof t}function oe(t){return"number"==typeof t}function ae(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function he(t){return"boolean"==typeof t}function ce(t){return Array.isArray(t)}function ue(t){return"string"==typeof t}function le(t){return ue(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function pe(t,e){if(!t)throw new Error(e)}function de(t,e,i=1/0){if(!(e<=t&&t<=i))throw new RangeError(`Value must be within [${e}, ${i}], got: ${t}`)}function fe(t){t.isOffline||"running"===t.state||Te('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let me=!1,_e=!1;function ge(t){me=t}let ve=console;function Te(...t){ve.warn(...t)}const be="object"==typeof self?self:null,xe=be&&(be.hasOwnProperty("AudioContext")||be.hasOwnProperty("webkitAudioContext"));class ye{constructor(t,e,i,s){this._callback=t,this._type=e,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),i=new Worker(e);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var e;this._updateInterval=Math.max(t,this._minimumUpdateInterval),"worker"===this._type&&(null===(e=this._worker)||void 0===e||e.postMessage(1e3*this._updateInterval))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function we(t){return g(t)}function ke(t){return v(t)}function Ae(t){return m(t)}function Se(t){return _(t)}function Oe(t,e){return"value"===t||we(e)||ke(e)||function(t){return t instanceof T}(e)}function Ee(t,...e){if(!e.length)return t;const i=e.shift();if(ae(t)&&ae(i))for(const s in i)Oe(s,i[s])?t[s]=i[s]:ae(i[s])?(t[s]||Object.assign(t,{[s]:{}}),Ee(t[s],i[s])):Object.assign(t,{[s]:i[s]});return Ee(t,...e)}function Re(t,e){return t.length===e.length&&t.every(((t,i)=>e[i]===t))}function Ce(t,e,i=[],s){const n={},r=Array.from(e);if(ae(r[0])&&s&&!Reflect.has(r[0],s)){Object.keys(r[0]).some((e=>Reflect.has(t,e)))||(Ee(n,{[s]:r[0]}),i.splice(i.indexOf(s),1),r.shift())}if(1===r.length&&ae(r[0]))Ee(n,r[0]);else for(let o=0;o<i.length;o++)ne(r[o])&&(n[i[o]]=r[o]);return Ee(t,n)}function Pe(t,e){return se(t)?e:t}function De(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}
/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Ve{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||be&&this.toString()===be.TONE_DEBUG_CLASS)&&function(...t){ve.log(...t)}(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ve.version=w;const Me=1e-6;function je(t,e){return t>e+Me}function Ue(t,e){return je(t,e)||qe(t,e)}function Ie(t,e){return t+Me<e}function qe(t,e){return Math.abs(t-e)<Me}function Ne(t,e,i){return Math.max(Math.min(t,i),e)}class Fe extends Ve{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Ce(Fe.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(pe(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];pe(Ue(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const i=this._search(t,e);return-1!==i?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const i=this._search(t,e);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const i=this._search(t);return i-1>=0?this._timeline[i-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(qe(this._timeline[e].time,t)){for(let i=e;i>=0&&qe(this._timeline[i].time,t);i--)e=i;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&Ue(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let i=0;const s=this._timeline.length;let n=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;for(;i<n;){let s=Math.floor(i+(n-i)/2);const r=this._timeline[s],o=this._timeline[s+1];if(qe(r[e],t)){for(let i=s;i<this._timeline.length;i++){if(!qe(this._timeline[i][e],t))break;s=i}return s}if(Ie(r[e],t)&&je(o[e],t))return s;je(r[e],t)?n=s:i=s+1}return-1}_iterate(t,e=0,i=this._timeline.length-1){this._timeline.slice(e,i+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const i=this._search(t);return-1!==i&&this._iterate(e,0,i),this}forEachAfter(t,e){const i=this._search(t);return this._iterate(e,i+1),this}forEachBetween(t,e,i){let s=this._search(t),n=this._search(e);return-1!==s&&-1!==n?(this._timeline[s].time!==t&&(s+=1),this._timeline[n].time===e&&(n-=1),this._iterate(i,s,n)):-1===s&&this._iterate(i,0,n),this}forEachFrom(t,e){let i=this._search(t);for(;i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this}forEachAtTime(t,e){const i=this._search(t);if(-1!==i&&qe(this._timeline[i].time,t)){let s=i;for(let e=i;e>=0&&qe(this._timeline[e].time,t);e--)s=e;this._iterate((t=>{e(t)}),s,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Be=[];function Le(t){Be.push(t)}const We=[];function He(t){We.push(t)}class ze extends Ve{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{se(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const i=(...s)=>{e(...s),this.off(t,i)};return this.on(t,i),this}off(t,e){return t.split(/\W+/).forEach((t=>{if(se(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(se(e))this._events[t]=[];else{const i=this._events[t];for(let t=i.length-1;t>=0;t--)i[t]===e&&i.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const i=this._events[t].slice(0);for(let t=0,s=i.length;t<s;t++)i[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const i=Object.getOwnPropertyDescriptor(ze.prototype,e);Object.defineProperty(t.prototype,e,i)}))}dispose(){return super.dispose(),this._events=void 0,this}}class $e extends ze{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Je extends $e{constructor(){var t,e;super(),this.name="Context",this._constants=new Map,this._timeouts=new Fe,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=Ce(Je.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=(null===(t=arguments[0])||void 0===t?void 0:t.latencyHint)||""):(this._context=function(t){return new p(t)}({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new ye(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[(null===(e=arguments[0])||void 0===e?void 0:e.hasOwnProperty("updateInterval"))?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,Be.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,i){return this._context.createBuffer(t,e,i)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,i){return this._context.createPeriodicWave(t,e,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){pe(Se(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(t)}createMediaElementSource(t){pe(Se(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(t)}createMediaStreamDestination(){pe(Se(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){pe(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){pe(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){pe(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){pe(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,i){return pe(ne(f),"This node only works in a secure context (https or localhost)"),new f(t,e,i)}(this.rawContext,t,e)}addAudioWorkletModule(t){return k(this,void 0,void 0,(function*(){pe(ne(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise}))}workletsAreReady(){return k(this,void 0,void 0,(function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Se(this._context)?this._context.resume():Promise.resolve()}close(){return k(this,void 0,void 0,(function*(){var t;Se(this._context)&&"closed"!==this.state&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&(t=this,We.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),i=e.getChannelData(0);for(let n=0;n<i.length;n++)i[n]=t;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants.set(t,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this.close(),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:i+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const i=++this._timeoutIds,s=()=>{const n=this.now();this._timeouts.add({callback:()=>{t(),s()},id:i,time:n+e})};return s(),i}}function Xe(t,e){ce(e)?e.forEach((e=>Xe(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Ye(t,e){ce(e)?e.forEach((e=>Ye(t,e))):Object.defineProperty(t,e,{writable:!0})}const Ge=()=>{};class Qe extends Ve{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ge;const t=Ce(Qe.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,ue(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:Ge,onload:Ge,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ei().sampleRate}set(t){return t instanceof Qe?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return k(this,void 0,void 0,(function*(){const e=Qe.load(t).then((t=>{this.set(t),this.onload(this)}));Qe.downloads.push(e);try{yield e}finally{const t=Qe.downloads.indexOf(e);Qe.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=ce(t)&&t[0].length>0,i=e?t.length:1,s=e?t[0].length:t.length,n=ei(),r=n.createBuffer(i,s,n.sampleRate),o=e||1!==i?t:[t];for(let a=0;a<i;a++)r.copyToChannel(o[a],a);return this._buffer=r,this}toMono(t){if(oe(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let i=0;i<e;i++){const e=this.toArray(i);for(let i=0;i<e.length;i++)t[i]+=e[i]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(oe(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){pe(this.loaded,"Buffer is not loaded");const i=Math.floor(t*this.sampleRate),s=Math.floor(e*this.sampleRate);pe(i<s,"The start time must be less than the end time");const n=s-i,r=ei().createBuffer(this.numberOfChannels,n,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)r.copyToChannel(this.getChannelData(o).subarray(i,s),o);return new Qe(r)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Qe).fromArray(t)}static fromUrl(t){return k(this,void 0,void 0,(function*(){const e=new Qe;return yield e.load(t)}))}static load(t){return k(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const i=e[1].split("|");let s=i[0];for(const t of i)if(Qe.supportsType(t)){s=t;break}t=t.replace(e[0],s)}const i=""===Qe.baseUrl||Qe.baseUrl.endsWith("/")?Qe.baseUrl:Qe.baseUrl+"/",s=document.createElement("a");s.href=i+t,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const n=yield fetch(s.href);if(!n.ok)throw new Error(`could not load url: ${t}`);const r=yield n.arrayBuffer();return yield ei().decodeAudioData(r)}))}static supportsType(t){const e=t.split("."),i=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+i)}static loaded(){return k(this,void 0,void 0,(function*(){for(yield Promise.resolve();Qe.downloads.length;)yield Qe.downloads[0]}))}}Qe.baseUrl="",Qe.downloads=[];class Ze extends Je{constructor(){var t,e,i;super({clockSource:"offline",context:Ae(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],i=arguments[2],new d(t,e,i)),lookAhead:0,updateInterval:Ae(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Ae(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return k(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const i=Math.floor(this.sampleRate/128);t&&e%i==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return k(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Qe(e)}))}close(){return Promise.resolve()}}const Ke=new class extends $e{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,i){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return k(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let ti=Ke;function ei(){return ti===Ke&&xe&&function(t,e=!1){e&&ti.dispose();ti=Se(t)?new Je(t):Ae(t)?new Ze(t):t}(new Je),ti}function ii(){return ti.resume()}if(be&&!be.TONE_SILENCE_LOGGING){}function si(t){return Math.log(t)/Math.LN10*20}function ni(t){return Math.pow(2,t/12)}let ri=440;function oi(t){return Math.round(ai(t))}function ai(t){return 69+12*Math.log2(t/ri)}function hi(t){return ri*Math.pow(2,(t-69)/12)}class ci extends Ve{constructor(t,e,i){super(),this.defaultUnits="s",this._val=e,this._units=i,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const i=parseInt(t,10),s="."===e?1.5:1;return 1===i?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/i)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,i)=>{let s=0;return t&&"0"!==t&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s+=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(s+=this._beatsToUnits(parseFloat(i)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof ci&&this.fromType(this._val),se(this._val))return this._noArg();if(ue(this._val)&&se(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(ae(this._val)){let t=0;for(const e in this._val)if(ne(this._val[e])){const i=this._val[e];t+=new this.constructor(this.context,e).valueOf()*i}return t}if(ne(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return ue(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class ui extends ci{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new ui(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const i=new this.constructor(this.context,t).valueOf(),s=this.valueOf();return s+(Math.round(s/i)*i-s)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let n=1;n<9;n++){const t=Math.pow(2,n);e.push(t+"n."),e.push(t+"n"),e.push(t+"t")}e.push("0");let i=e[0],s=new ui(this.context,e[0]).toSeconds();return e.forEach((e=>{const n=new ui(this.context,e).toSeconds();Math.abs(n-t)<Math.abs(s-t)&&(i=e,s=n)})),i}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const i=Math.floor(e/this._getTimeSignature());let s=e%1*4;e=Math.floor(e)%this._getTimeSignature();const n=s.toString();n.length>3&&(s=parseFloat(parseFloat(n).toFixed(3)));return[i,e,s].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return oi(this.toFrequency())}_now(){return this.context.now()}}class li extends ui{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return ri}static set A4(t){!function(t){ri=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:li.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,e){const i=pi[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?i:li.mtof(i)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,i){let s=1;return t&&"0"!==t&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s*=this._beatsToUnits(parseFloat(e))),i&&"0"!==i&&(s*=this._beatsToUnits(parseFloat(i)/4)),s}}})}transpose(t){return new li(this.context,this.valueOf()*ni(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return oi(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/li.A4);let i=Math.round(12*e)+57;const s=Math.floor(i/12);s<0&&(i+=-12*s);return di[i%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return hi(t)}static ftom(t){return oi(t)}}const pi={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},di=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function fi(t,e){return new li(ei(),t,e)}class mi extends ui{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class _i extends Ve{constructor(){super();const t=Ce(_i.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:ei()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return function(t){se(t)&&me&&!_e&&(_e=!0,Te("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}(t),new ui(this.context,t).toSeconds()}toFrequency(t){return new li(this.context,t).toFrequency()}toTicks(t){return new mi(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((i=>{se(t[i])&&delete e[i]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const i=this[e];ne(i)&&ne(i.value)&&ne(i.setValueAtTime)?t[e]=i.value:i instanceof _i?t[e]=i._getPartialProperties(t[e]):ce(i)||oe(i)||ue(i)||he(i)?t[e]=i:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&ne(this[e])&&(this[e]&&ne(this[e].value)&&ne(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof _i?this[e].set(t[e]):this[e]=t[e])})),this}}class gi extends Fe{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,i){return de(e,0),this.add(Object.assign({},i,{state:t,time:e})),this}getLastState(t,e){for(let i=this._search(e);i>=0;i--){const e=this._timeline[i];if(e.state===t)return e}}getNextState(t,e){const i=this._search(e);if(-1!==i)for(let s=i;s<this._timeline.length;s++){const e=this._timeline[s];if(e.state===t)return e}}}class vi extends _i{constructor(){super(Ce(vi.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Ce(vi.getDefaults(),arguments,["param","units","convert"]);for(pe(ne(t.param)&&(we(t.param)||t.param instanceof vi),"param must be an AudioParam");!we(t.param);)t.param=t.param._param;this._swappable=!!ne(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Fe(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,ne(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(_i.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return ne(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return ne(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return ne(this.maxValue)&&ne(this.minValue)&&de(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?(e=t,Math.pow(10,e/20)):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t;var e}_toType(t){return this.convert&&"decibels"===this.units?si(t):t}setValueAtTime(t,e){const i=this.toSeconds(e),s=this._fromType(t);return pe(isFinite(s)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",t,i),this._events.add({time:i,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,i),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),i=this._events.getAfter(e),s=this._events.get(e);let n=this._initialValue;if(null===s)n=this._initialValue;else if("setTargetAtTime"!==s.type||null!==i&&"setValueAtTime"!==i.type)if(null===i)n=s.value;else if("linearRampToValueAtTime"===i.type||"exponentialRampToValueAtTime"===i.type){let t=s.value;if("setTargetAtTime"===s.type){const e=this._events.getBefore(s.time);t=null===e?this._initialValue:e.value}n="linearRampToValueAtTime"===i.type?this._linearInterpolate(s.time,t,i.time,i.value,e):this._exponentialInterpolate(s.time,t,i.time,i.value,e)}else n=s.value;else{const t=this._events.getBefore(s.time);let i;i=null===t?this._initialValue:t.value,"setTargetAtTime"===s.type&&(n=this._exponentialApproach(s.time,i,s.value,s.constant,e))}return this._toType(n)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const i=this._fromType(t),s=this.toSeconds(e);return pe(isFinite(i)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this._events.add({time:s,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",t,s),this._param.linearRampToValueAtTime(i,s),this}exponentialRampToValueAtTime(t,e){let i=this._fromType(t);i=qe(i,0)?this._minOutput:i,this._assertRange(i);const s=this.toSeconds(e);return pe(isFinite(i)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",t,s),this._param.exponentialRampToValueAtTime(i,s),this}exponentialRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this}linearRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this}targetRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,e),this}exponentialApproachValueAtTime(t,e,i){e=this.toSeconds(e),i=this.toSeconds(i);const s=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(t,e,s),this.cancelAndHoldAtTime(e+.9*i),this.linearRampToValueAtTime(t,e+i),this}setTargetAtTime(t,e,i){const s=this._fromType(t);pe(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const n=this.toSeconds(e);return this._assertRange(s),pe(isFinite(s)&&isFinite(n),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:i,time:n,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",t,n,i),this._param.setTargetAtTime(s,n,i),this}setValueCurveAtTime(t,e,i,s=1){i=this.toSeconds(i),e=this.toSeconds(e);const n=this._fromType(t[0])*s;this.setValueAtTime(this._toType(n),e);const r=i/(t.length-1);for(let o=1;o<t.length;o++){const i=this._fromType(t[o])*s;this.linearRampToValueAtTime(this._toType(i),e+o*r)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return pe(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),i=this._fromType(this.getValueAtTime(e));pe(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+i);const s=this._events.get(e),n=this._events.getAfter(e);return s&&qe(s.time,e)?n?(this._param.cancelScheduledValues(n.time),this._events.cancel(n.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):n&&(this._param.cancelScheduledValues(n.time),this._events.cancel(n.time),"linearRampToValueAtTime"===n.type?this.linearRampToValueAtTime(this._toType(i),e):"exponentialRampToValueAtTime"===n.type&&this.exponentialRampToValueAtTime(this._toType(i),e)),this._events.add({time:e,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,e),this}rampTo(t,e=.1,i){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,i):this.linearRampTo(t,e,i),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const i=this._events.get(e);if(i&&"setTargetAtTime"===i.type){const s=this._events.getAfter(i.time),n=s?s.time:e+2,r=(n-e)/10;for(let i=e;i<n;i+=r)t.linearRampToValueAtTime(this.getValueAtTime(i),i)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){pe(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,i,s,n){return i+(e-i)*Math.exp(-(n-t)/s)}_linearInterpolate(t,e,i,s,n){return e+(n-t)/(i-t)*(s-e)}_exponentialInterpolate(t,e,i,s,n){return e*Math.pow(s/e,(n-t)/(i-t))}}class Ti extends _i{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ne(this.input)?we(this.input)||this.input instanceof vi?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ne(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return ne(t)&&(t instanceof Ti||ke(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();pe(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,i=0){return xi(this,t,e,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Te("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,i=0){return function(t,e,i=0,s=0){if(ne(e))for(;e instanceof Ti;)e=e.input;for(;!ke(t);)ne(t.output)&&(t=t.output);we(e)?t.disconnect(e,i):ke(e)?t.disconnect(e,i,s):t.disconnect()}(this,t,e,i),this}chain(...t){return bi(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),ne(this.input)&&(this.input instanceof Ti?this.input.dispose():ke(this.input)&&this.input.disconnect()),ne(this.output)&&(this.output instanceof Ti?this.output.dispose():ke(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function bi(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof Ti?t.connect(e):ke(t)&&xi(t,e),e)),e)}function xi(t,e,i=0,s=0){for(pe(ne(t),"Cannot connect from undefined node"),pe(ne(e),"Cannot connect to undefined node"),(e instanceof Ti||ke(e))&&pe(e.numberOfInputs>0,"Cannot connect to node with no inputs"),pe(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof Ti||e instanceof vi;)ne(e.input)&&(e=e.input);for(;t instanceof Ti;)ne(t.output)&&(t=t.output);we(e)?t.connect(e,i):t.connect(e,i,s)}class yi extends Ti{constructor(){super(Ce(yi.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Ce(yi.getDefaults(),arguments,["gain","units"]);this.gain=new vi({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Xe(this,"gain")}static getDefaults(){return Object.assign(Ti.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class wi extends vi{constructor(){super(Ce(wi.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Fe(1/0),this._multiplier=1;const t=Ce(wi.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(vi.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,i){e=this.toSeconds(e),this.setRampPoint(e);const s=this._fromType(t),n=this._events.get(e),r=Math.round(Math.max(1/i,1));for(let o=0;o<=r;o++){const t=i*o+e,r=this._exponentialApproach(n.time,n.value,s,i,t);this.linearRampToValueAtTime(this._toType(r),t)}return this}setValueAtTime(t,e){const i=this.toSeconds(e);super.setValueAtTime(t,e);const s=this._events.get(i),n=this._events.previousEvent(s),r=this._getTicksUntilEvent(n,i);return s.ticks=Math.max(r,0),this}linearRampToValueAtTime(t,e){const i=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const s=this._events.get(i),n=this._events.previousEvent(s),r=this._getTicksUntilEvent(n,i);return s.ticks=Math.max(r,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const i=this._fromType(t),s=this._events.get(e),n=Math.round(Math.max(10*(e-s.time),1)),r=(e-s.time)/n;for(let o=0;o<=n;o++){const t=r*o+s.time,n=this._exponentialInterpolate(s.time,s.value,e,i,t);this.linearRampToValueAtTime(this._toType(n),t)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(se(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const i=this._fromType(this.getValueAtTime(t.time));let s=this._fromType(this.getValueAtTime(e));const n=this._events.get(e);return n&&n.time===e&&"setValueAtTime"===n.type&&(s=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(i+s)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),i=this._events.get(e);return Math.max(this._getTicksUntilEvent(i,e),0)}getDurationOfTicks(t,e){const i=this.toSeconds(e),s=this.getTicksAtTime(e);return this.getTimeOfTick(s+t)-i}getTimeOfTick(t){const e=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&i&&"linearRampToValueAtTime"===i.type&&e.value!==i.value){const s=this._fromType(this.getValueAtTime(e.time)),n=(this._fromType(this.getValueAtTime(i.time))-s)/(i.time-e.time),r=Math.sqrt(Math.pow(s,2)-2*n*(e.ticks-t)),o=(-s+r)/n;return(o>0?o:(-s-r)/n)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const i=this.toSeconds(e),s=this.toSeconds(t),n=this.getTicksAtTime(i);return this.getTicksAtTime(i+s)-n}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class ki extends x{constructor(){super(Ce(ki.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Ce(ki.getDefaults(),arguments,["value"]);this.input=this._param=new wi({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(x.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Ai extends _i{constructor(){super(Ce(Ai.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new gi,this._tickOffset=new Fe,this._ticksAtTime=new Fe,this._secondsAtTime=new Fe;const t=Ce(Ai.getDefaults(),arguments,["frequency"]);this.frequency=new ki({context:this.context,units:t.units,value:t.frequency}),Xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},_i.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const i=this.toSeconds(t);return"started"!==this._state.getValueAtTime(i)&&(this._state.setStateAtTime("started",i),ne(e)&&this.setTicksAtTime(e,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),i=this._state.getLastState("stopped",e),s=this._ticksAtTime.get(e),n={state:"paused",time:e};this._state.add(n);let r=s||i,o=s?s.ticks:0,a=null;return this._state.forEachBetween(r.time,e+this.sampleTime,(t=>{let e=r.time;const i=this._tickOffset.get(t.time);i&&i.time>=r.time&&(o=i.ticks,e=i.time),"started"===r.state&&"started"!==t.state&&(o+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e),t.time!==n.time&&(a={state:t.state,time:t.time,ticks:o})),r=t})),this._state.remove(n),a&&this._ticksAtTime.add(a),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),i=this.frequency.timeToTicks(t,e);this.setTicksAtTime(i,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),i={state:"paused",time:t};this._state.add(i);const s=this._secondsAtTime.get(t);let n=s||e,r=s?s.seconds:0,o=null;return this._state.forEachBetween(n.time,t+this.sampleTime,(t=>{let e=n.time;const s=this._tickOffset.get(t.time);s&&s.time>=n.time&&(r=s.seconds,e=s.time),"started"===n.state&&"started"!==t.state&&(r+=t.time-e,t.time!==i.time&&(o={state:t.state,time:t.time,seconds:r})),n=t})),this._state.remove(i),o&&this._secondsAtTime.add(o),r}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const i=this._tickOffset.get(e),s=this._state.get(e),n=Math.max(i.time,s.time),r=this.frequency.getTicksAtTime(n)+t-i.ticks;return this.frequency.getTimeOfTick(r)}forEachTickBetween(t,e,i){let s=this._state.get(t);this._state.forEachBetween(t,e,(e=>{s&&"started"===s.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(s.time,t),e.time-this.sampleTime,i),s=e}));let n=null;if(s&&"started"===s.state){const o=Math.max(s.time,t),a=this.frequency.getTicksAtTime(o),h=a-this.frequency.getTicksAtTime(s.time);let c=Math.ceil(h)-h;c=qe(c,1)?0:c;let u=this.frequency.getTimeOfTick(a+c);for(;u<e;){try{i(u,Math.round(this.getTicksAtTime(u)))}catch(r){n=r;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(n)throw n;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Si extends _i{constructor(){super(Ce(Si.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Ge,this._lastUpdate=0,this._state=new gi("stopped"),this._boundLoop=this._loop.bind(this);const t=Ce(Si.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Ai({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Xe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(_i.getDefaults(),{callback:Ge,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){fe(this.context);const i=this.toSeconds(t);return this.log("start",i),"started"!==this._state.getValueAtTime(i)&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,e),i<this._lastUpdate&&this.emit("start",i,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const i=this.toSeconds(e),s=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(s+t,i)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}ze.mixin(Si);class Oi extends Ve{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Ce(Oi.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const i=t.urls[e];this.add(e,i,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Ge,onload:Ge,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return pe(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,i=Ge,s=Ge){return ue(e)?(this.baseUrl&&"data:audio/"===e.trim().substring(0,11).toLowerCase()&&(this.baseUrl=""),this._buffers.set(t.toString(),new Qe(this.baseUrl+e,i,s))):this._buffers.set(t.toString(),new Qe(e,i,s)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class Ei extends li{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return oi(super._frequencyToUnits(t))}_ticksToUnits(t){return oi(super._ticksToUnits(t))}_beatsToUnits(t){return oi(super._beatsToUnits(t))}_secondsToUnits(t){return oi(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return hi(this.toMidi())}transpose(t){return new Ei(this.context,this.toMidi()+t)}}class Ri extends mi{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Ci extends _i{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Fe,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Le((t=>{t.draw=new Ci({context:t})})),He((t=>{t.draw.dispose()}));class Pi extends Ve{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){pe(ne(t.time),"Events must have a time property"),pe(ne(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new Di(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const i of e)if(i.event===t){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,i=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,i=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,i=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,i=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,i=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),i&&this._rebalance(i)}t.dispose()}_rotateLeft(t){const e=t.parent,i=t.isLeftChild(),s=t.right;s&&(t.right=s.left,s.left=t),null!==e?i?e.left=s:e.right=s:this._setRoot(s)}_rotateRight(t){const e=t.parent,i=t.isLeftChild(),s=t.left;s&&(t.left=s.right,s.right=t),null!==e?i?e.left=s:e.right=s:this._setRoot(s)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let i=1;i<e.length;i++)e[i].low>t.low&&(t=e[i]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const i=[];this._root.search(t,i),i.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const i=[];this._root.searchAfter(t,i),i.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class Di{constructor(t,e,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Vi extends Ti{constructor(){super(Ce(Vi.getDefaults(),arguments)),this.name="Destination",this.input=new b({context:this.context}),this.output=new yi({context:this.context}),this.volume=this.input.volume;const t=Ce(Vi.getDefaults(),arguments);bi(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Ti.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),bi(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Le((t=>{t.destination=new Vi({context:t})})),He((t=>{t.destination.dispose()}));class Mi extends Ve{constructor(t){super(),this.name="TimelineValue",this._timeline=new Fe({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class ji{constructor(t,e){this.id=ji._eventId++,this._remainderTime=0;const i=Object.assign(ji.getDefaults(),e);this.transport=t,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Ge,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ji._eventId=0;class Ui extends ji{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(Ui.getDefaults(),e);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ji.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return Ie(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Ri(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){Ie(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Ri(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);je(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Ii extends _i{constructor(){super(Ce(Ii.getDefaults(),arguments)),this.name="Transport",this._loop=new Mi(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Fe,this._repeatedEvents=new Pi,this._syncedSignals=[],this._swingAmount=0;const t=Ce(Ii.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new Si({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Xe(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(_i.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const i=e%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(i*Math.PI)*this._swingAmount;t+=new Ri(this.context,2*this._swingTicks/3).toSeconds()*s}ge(!0),this._timeline.forEachAtTime(e,(e=>e.invoke(t))),ge(!1)}schedule(t,e){const i=new ji(this,{callback:t,time:new mi(this.context,e).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(t,e,i,s=1/0){const n=new Ui(this,{callback:t,duration:new ui(this.context,s).toTicks(),interval:new ui(this.context,e).toTicks(),time:new mi(this.context,i).toTicks()});return this._addEvent(n,this._repeatedEvents)}scheduleOnce(t,e){const i=new ji(this,{callback:t,once:!0,time:new mi(this.context,e).toTicks()});return this._addEvent(i,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new Ri(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let i;return this.context.resume(),ne(e)&&(i=this.toTicks(e)),this._clock.start(t,i),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){ce(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new ui(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new ui(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new Ri(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new Ri(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),i=this._clock.frequency.timeToTicks(t,e);this.ticks=i}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const i=this._clock.getTicksAtTime(e),s=e+this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,e);this.emit("stop",s),this._clock.setTicksAtTime(t,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),i=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(i,e)}}syncSignal(t,e){const i=this.now();let s=this.bpm,n=1/(60/s.getValueAtTime(i)/this.PPQ),r=[];if("time"===t.units){const t=1/64/n,e=new yi(t),i=new y(-1),o=new yi(t);s.chain(e,i,o),s=o,n=1/n,r=[e,i,o]}e||(e=0!==t.getValueAtTime(i)?t.getValueAtTime(i)/n:0);const o=new yi(e);return s.connect(o),o.connect(t._param),r.push(o),this._syncedSignals.push({initial:t.value,nodes:r,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const i=this._syncedSignals[e];i.signal===t&&(i.nodes.forEach((t=>t.dispose())),i.signal.value=i.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Ye(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}function qi(t,e=1/0){const i=new WeakMap;return function(s,n){Reflect.defineProperty(s,n,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(s){de(s,t,e),i.set(this,s)}})}}function Ni(t,e=1/0){const i=new WeakMap;return function(s,n){Reflect.defineProperty(s,n,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(s){de(this.toSeconds(s),t,e),i.set(this,s)}})}}ze.mixin(Ii),Le((t=>{t.transport=new Ii({context:t})})),He((t=>{t.transport.dispose()}));const Fi=new Set;function Bi(t){Fi.add(t)}function Li(t,e){const i=`registerProcessor("${t}", ${e})`;Fi.add(i)}Bi('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');Bi("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");Bi("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");class Wi extends Ti{constructor(){super(...arguments),this.name="Listener",this.positionX=new vi({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new vi({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new vi({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new vi({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new vi({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new vi({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new vi({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new vi({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new vi({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Ti.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Le((t=>{t.listener=new Wi({context:t})})),He((t=>{t.listener.dispose()}));export{li as $,M as A,Gt as B,z as C,X as D,$ as E,fi as F,yi as G,J as H,lt as I,pt as J,Ot as K,_i as L,Ge as M,oe as N,Ze as O,vi as P,Ri as Q,he as R,gi as S,Ti as T,Pe as U,mi as V,ne as W,se as X,De as Y,N as Z,I as _,A as a,Ee as a0,Te as a1,Ei as a2,le as a3,Oi as a4,ai as a5,ni as a6,H as a7,xi as a8,we as a9,re as aa,je as ab,fe as ac,Qe as ad,qe as ae,Ie as af,Ue as ag,Re as ah,Ne as ai,U as b,ie as c,qi as d,ae as e,ce as f,si as g,pe as h,ue as i,Li as j,de as k,ei as l,rt as m,Jt as n,Ce as o,ut as p,Pt as q,Xe as r,ii as s,Ni as t,Q as u,gt as v,Et as w,St as x,kt as y,At as z};
