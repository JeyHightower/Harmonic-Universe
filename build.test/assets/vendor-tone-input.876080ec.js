import{k as e,_ as t,j as n,t as r,w as o,x as a,B as l,C as s,l as c}from"./vendor-tone-esm.8edb30e2.js";import{c as i}from"./vendor-tone-classnames.ea5eadd4.js";import{r as u,R as f,e as d}from"./vendor-react-core.73efc664.js";import{S as p,D as v}from"./vendor-tone-config-provider.2fc53c46.js";import{C as m,a as b,m as g,f as x}from"./vendor-tone-context.2287e470.js";import{_ as C,t as h,a as y}from"./vendor-tone-type.9e20d569.js";import{p as w,r as E,dS as O,g as j}from"./vendor-tone-icons.388eb8da.js";import{J as N,K as S}from"./vendor-tone-es.9387ac1c.js";import{cC as T,Q as k,cg as P,ch as z,N as R,O as I}from"./vendor-tone-util.a79eb63f.js";import{u as B,N as A}from"./vendor-tone-space.95ee87ca.js";import{ak as F}from"./vendor-tone-hooks.ee856eec.js";import{B as _}from"./vendor-tone-button.429dcaea.js";const M=function(n){var r=u.useContext(m),o=r.getPrefixCls,a=r.direction,l=n.prefixCls,s=n.className,c=void 0===s?"":s,f=o("input-group",l),d=i(f,e(e(e(e({},"".concat(f,"-lg"),"large"===n.size),"".concat(f,"-sm"),"small"===n.size),"".concat(f,"-compact"),n.compact),"".concat(f,"-rtl"),"rtl"===a),c),p=u.useContext(b),v=u.useMemo((function(){return t(t({},p),{isFormItemInput:!1})}),[p]);return u.createElement("span",{className:d,style:n.style,onMouseEnter:n.onMouseEnter,onMouseLeave:n.onMouseLeave,onFocus:n.onFocus,onBlur:n.onBlur},u.createElement(b.Provider,{value:v},n.children))};var D=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function L(e,t,n,r){if(n){var o=t;if("click"===t.type){var a=e.cloneNode(!0);return o=Object.create(t,{target:{value:a},currentTarget:{value:a}}),a.value="",void n(o)}if(void 0!==r)return o=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(o);n(o)}}const U=u.forwardRef((function(n,r){var o=n.prefixCls,a=n.bordered,l=void 0===a||a,s=n.status,c=n.size,d=n.disabled,x=n.onBlur,h=n.onFocus,y=n.suffix,E=n.allowClear,O=n.addonAfter,j=n.addonBefore,S=n.className,R=n.onChange,I=D(n,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","onChange"]),_=f.useContext(m),M=_.getPrefixCls,L=_.direction,U=_.input,V=M("input",o),W=u.useRef(null),G=B(V,L),H=G.compactSize,J=G.compactItemClassnames,K=f.useContext(p),Q=H||c||K,q=f.useContext(v),X=null!=d?d:q,Y=u.useContext(b),Z=Y.status,$=Y.hasFeedback,ee=Y.feedbackIcon,te=z(Z,s),ne=T(n)||!!$,re=u.useRef(ne);u.useEffect((function(){ne&&re.current,re.current=ne}),[ne]);var oe,ae=F(W,!0),le=($||y)&&f.createElement(f.Fragment,null,y,$&&ee);return"object"===C(E)&&(null==E?void 0:E.clearIcon)?oe=E:E&&(oe={clearIcon:f.createElement(w,null)}),f.createElement(N,t({ref:k(r,W),prefixCls:V,autoComplete:null==U?void 0:U.autoComplete},I,{disabled:X||void 0,onBlur:function(e){ae(),null==x||x(e)},onFocus:function(e){ae(),null==h||h(e)},suffix:le,allowClear:oe,className:i(S,J),onChange:function(e){ae(),null==R||R(e)},addonAfter:O&&f.createElement(A,null,f.createElement(g,{override:!0,status:!0},O)),addonBefore:j&&f.createElement(A,null,f.createElement(g,{override:!0,status:!0},j)),inputClassName:i(e(e(e(e({},"".concat(V,"-sm"),"small"===Q),"".concat(V,"-lg"),"large"===Q),"".concat(V,"-rtl"),"rtl"===L),"".concat(V,"-borderless"),!l),!ne&&P(V,te)),affixWrapperClassName:i(e(e(e(e({},"".concat(V,"-affix-wrapper-sm"),"small"===Q),"".concat(V,"-affix-wrapper-lg"),"large"===Q),"".concat(V,"-affix-wrapper-rtl"),"rtl"===L),"".concat(V,"-affix-wrapper-borderless"),!l),P("".concat(V,"-affix-wrapper"),te,$)),wrapperClassName:i(e({},"".concat(V,"-group-rtl"),"rtl"===L)),groupClassName:i(e(e(e({},"".concat(V,"-group-wrapper-sm"),"small"===Q),"".concat(V,"-group-wrapper-lg"),"large"===Q),"".concat(V,"-group-wrapper-rtl"),"rtl"===L),P("".concat(V,"-group-wrapper"),te,$))}))}));var V=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},W=function(e){return e?u.createElement(E,null):u.createElement(O,null)},G={click:"onClick",hover:"onMouseOver"};const H=u.forwardRef((function(r,o){var a=r.visibilityToggle,l=void 0===a||a,s="object"===C(l)&&void 0!==l.visible,c=u.useState((function(){return!!s&&l.visible})),f=n(c,2),d=f[0],p=f[1],v=u.useRef(null);u.useEffect((function(){s&&p(l.visible)}),[s,l]);var m=F(v),b=function(){r.disabled||(d&&m(),p((function(e){var t,n=!e;return"object"===C(l)&&(null===(t=l.onVisibleChange)||void 0===t||t.call(l,n)),n})))},g=function(n){var a=n.getPrefixCls,s=r.className,c=r.prefixCls,f=r.inputPrefixCls,p=r.size,m=V(r,["className","prefixCls","inputPrefixCls","size"]),g=a("input",f),x=a("input-password",c),C=l&&function(t){var n=r.action,o=void 0===n?"click":n,a=r.iconRender,l=G[o]||"",s=(void 0===a?W:a)(d),c=e(e(e(e(e({},l,b),"className","".concat(t,"-icon")),"key","passwordIcon"),"onMouseDown",(function(e){e.preventDefault()})),"onMouseUp",(function(e){e.preventDefault()}));return u.cloneElement(u.isValidElement(s)?s:u.createElement("span",null,s),c)}(x),h=i(x,s,e({},"".concat(x,"-").concat(p),!!p)),y=t(t({},R(m,["suffix","iconRender","visibilityToggle"])),{type:d?"text":"password",className:h,prefixCls:g,suffix:C});return p&&(y.size=p),u.createElement(U,t({ref:k(o,v)},y))};return u.createElement(x,null,g)}));var J=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const K=u.forwardRef((function(n,r){var o,a=n.prefixCls,l=n.inputPrefixCls,s=n.className,c=n.size,f=n.suffix,v=n.enterButton,b=void 0!==v&&v,g=n.addonAfter,x=n.loading,C=n.disabled,h=n.onSearch,y=n.onChange,w=n.onCompositionStart,E=n.onCompositionEnd,O=J(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),N=u.useContext(m),S=N.getPrefixCls,T=N.direction,P=u.useContext(p),z=u.useRef(!1),R=S("input-search",a),I=S("input",l),A=B(R,T).compactSize||c||P,F=u.useRef(null),M=function(e){var t;document.activeElement===(null===(t=F.current)||void 0===t?void 0:t.input)&&e.preventDefault()},D=function(e){var t,n;h&&h(null===(n=null===(t=F.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},L="boolean"==typeof b?u.createElement(j,null):null,V="".concat(R,"-button"),W=b||{},G=W.type&&!0===W.type.__ANT_BUTTON;o=G||"button"===W.type?d(W,t({onMouseDown:M,onClick:function(e){var t,n;null===(n=null===(t=null==W?void 0:W.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),D(e)},key:"enterButton"},G?{className:V,size:A}:{})):u.createElement(_,{className:V,type:b?"primary":void 0,size:A,disabled:C,key:"enterButton",onMouseDown:M,onClick:D,loading:x,icon:L},b),g&&(o=[o,d(g,{key:"addonAfter"})]);var H=i(R,e(e(e({},"".concat(R,"-rtl"),"rtl"===T),"".concat(R,"-").concat(A),!!A),"".concat(R,"-with-button"),!!b),s);return u.createElement(U,t({ref:k(F,r),onPressEnter:function(e){z.current||x||D(e)}},O,{size:A,onCompositionStart:function(e){z.current=!0,null==w||w(e)},onCompositionEnd:function(e){z.current=!1,null==E||E(e)},prefixCls:I,addonAfter:o,suffix:f,onChange:function(e){e&&e.target&&"click"===e.type&&h&&h(e.target.value,e),y&&y(e)},className:H,disabled:C}))}));var Q=h("text","input");const q=function(t){function n(){return o(this,n),e=this,r=arguments,t=y(t=n),l(e,s()?Reflect.construct(t,r||[],y(e).constructor):t.apply(e,r));var e,t,r}return r(n,t),a(n,[{key:"renderClearIcon",value:function(t){var n=this.props,r=n.value,o=n.disabled,a=n.readOnly,l=n.handleReset,s=n.suffix,c=!o&&!a&&r,f="".concat(t,"-clear-icon");return u.createElement(w,{onClick:l,onMouseDown:function(e){return e.preventDefault()},className:i(e(e({},"".concat(f,"-hidden"),!c),"".concat(f,"-has-suffix"),!!s),f),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(t,n,r){var o=this.props,a=o.value,l=o.allowClear,s=o.className,c=o.focused,f=o.style,p=o.direction,v=o.bordered,m=o.hidden,b=o.status,g=r.status,x=r.hasFeedback;if(!l)return d(n,{value:a});var C,h=i("".concat(t,"-affix-wrapper"),"".concat(t,"-affix-wrapper-textarea-with-clear-btn"),P("".concat(t,"-affix-wrapper"),z(g,b),x),e(e(e(e({},"".concat(t,"-affix-wrapper-focused"),c),"".concat(t,"-affix-wrapper-rtl"),"rtl"===p),"".concat(t,"-affix-wrapper-borderless"),!v),"".concat(s),!((C=this.props).addonBefore||C.addonAfter)&&s));return u.createElement("span",{className:h,style:f,hidden:m},d(n,{style:null,value:a}),this.renderClearIcon(t))}},{key:"render",value:function(){var e=this;return u.createElement(b.Consumer,null,(function(t){var n=e.props,r=n.prefixCls,o=n.inputType,a=n.element;if(o===Q[0])return e.renderTextAreaWithClearIcon(r,a,t)}))}}]),n}(u.Component);var X=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};function Y(e,t){return c(e||"").slice(0,t).join("")}function Z(e,t,n,r){var o=n;return e?o=Y(n,r):c(t||"").length<n.length&&c(n||"").length>r&&(o=t),o}const $=u.forwardRef((function(r,o){var a=r.prefixCls,l=r.bordered,s=void 0===l||l,f=r.showCount,d=void 0!==f&&f,g=r.maxLength,x=r.className,h=r.style,y=r.size,w=r.disabled,E=r.onCompositionStart,O=r.onCompositionEnd,j=r.onChange,N=r.onFocus,T=r.onBlur,k=r.status,B=X(r,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","onFocus","onBlur","status"]),A=u.useContext(m),F=A.getPrefixCls,_=A.direction,M=u.useContext(p),D=u.useContext(v),U=null!=w?w:D,V=u.useContext(b),W=V.status,G=V.hasFeedback,H=V.isFormItemInput,J=V.feedbackIcon,K=z(W,k),Q=u.useRef(null),$=u.useRef(null),ee=u.useState(!1),te=n(ee,2),ne=te[0],re=te[1],oe=u.useState(!1),ae=n(oe,2),le=ae[0],se=ae[1],ce=u.useRef(),ie=u.useRef(0),ue=I(B.defaultValue,{value:B.value}),fe=n(ue,2),de=fe[0],pe=fe[1],ve=B.hidden,me=function(e,t){void 0===B.value&&(pe(e),null==t||t())},be=Number(g)>0;u.useEffect((function(){se((function(e){return!U&&e}))}),[U]);var ge=F("input",a);u.useImperativeHandle(o,(function(){var e;return{resizableTextArea:null===(e=Q.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=Q.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=Q.current)||void 0===e?void 0:e.blur()}}}));var xe=u.createElement(S,t({},R(B,["allowClear"]),{disabled:U,className:i(e(e(e(e({},"".concat(ge,"-borderless"),!s),x,x&&!d),"".concat(ge,"-sm"),"small"===M||"small"===y),"".concat(ge,"-lg"),"large"===M||"large"===y),P(ge,K)),style:d?{resize:null==h?void 0:h.resize}:h,prefixCls:ge,onCompositionStart:function(e){re(!0),ce.current=de,ie.current=e.currentTarget.selectionStart,null==E||E(e)},onChange:function(e){var t=e.target.value;!ne&&be&&(t=Z(e.target.selectionStart>=g+1||e.target.selectionStart===t.length||!e.target.selectionStart,de,t,g));me(t),L(e.currentTarget,e,j,t)},onBlur:function(e){se(!1),null==T||T(e)},onFocus:function(e){se(!0),null==N||N(e)},onCompositionEnd:function(e){var t;re(!1);var n=e.currentTarget.value;be&&(n=Z(ie.current>=g+1||ie.current===(null===(t=ce.current)||void 0===t?void 0:t.length),ce.current,n,g));n!==de&&(me(n),L(e.currentTarget,e,j,n)),null==O||O(e)},ref:Q})),Ce=function(e){return null==e?"":String(e)}(de);ne||!be||null!==B.value&&void 0!==B.value||(Ce=Y(Ce,g));var he=u.createElement(q,t({disabled:U,focused:le},B,{prefixCls:ge,direction:_,inputType:"text",value:Ce,element:xe,handleReset:function(e){var t,n,r;me(""),null===(t=Q.current)||void 0===t||t.focus(),L(null===(r=null===(n=Q.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,j)},ref:$,bordered:s,status:k,style:d?void 0:h}));if(d||G){var ye=c(Ce).length,we="";return we="object"===C(d)?d.formatter({value:Ce,count:ye,maxLength:g}):"".concat(ye).concat(be?" / ".concat(g):""),u.createElement("div",{hidden:ve,className:i("".concat(ge,"-textarea"),e(e(e({},"".concat(ge,"-textarea-rtl"),"rtl"===_),"".concat(ge,"-textarea-show-count"),d),"".concat(ge,"-textarea-in-form-item"),H),P("".concat(ge,"-textarea"),K,G),x),style:h,"data-count":we},he,G&&u.createElement("span",{className:"".concat(ge,"-textarea-suffix")},J))}return he}));var ee=U;ee.Group=M,ee.Search=K,ee.TextArea=$,ee.Password=H;const te=ee;export{te as I,$ as T};
