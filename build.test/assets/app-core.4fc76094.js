import{r as e,j as s,P as n,R as t}from"./vendor-react-core.73efc664.js";import{c as a}from"./vendor-react-dom.e7130502.js";import{B as r,R as i,b as o,N as l,c,u as d,a as u}from"./vendor-react-router.6468192e.js";import{P as h,a as m,u as p}from"./vendor-react-redux.ca23f922.js";import{s as v,p as j}from"./app-redux-core.93965072.js";import{N as x,U as f,T as g,a as y,B as b,b as S,S as C}from"./app-other-components.5e297c7e.js";import{M as _}from"./app-modals.11788519.js";import{r as E}from"./app-routes.fd68d670.js";import{c as N,l as w}from"./app-redux-auth-slice.749a10ad.js";import{A as k,i as A,e as D}from"./app-utils.cd93f9c5.js";import{f as I,d as L,a as O}from"./app-redux-physics-thunks.c58b7b1a.js";import{f as T,d as U,a as R}from"./app-redux-scene-thunks.d96f7130.js";import{S as P}from"./app-scenes-components.e3ba29e5.js";import"./app-scenes-form.07f7a30a.js";import"./app-services-api.399edcf9.js";import"./app-services-other.47edd63d.js";import"./app-contexts.6347d155.js";import"./app-physics-components.dcafff4c.js";import{l as F}from"./app-redux-auth-thunks.3612091e.js";import{C as z,T as K,A as Y,a as B,S as M}from"./vendor-mui-core.4359195f.js";import{B as H,I as V}from"./vendor-mui-buttons.74e6c144.js";import{A as W,R as $,L as J}from"./vendor-mui-icons-other.bc15c9b6.js";import{D as Q,b as q,a as G,c as X}from"./vendor-mui-dialogs.59185291.js";import"./app-redux-scene-slice.81f21730.js";import{C as Z,B as ee,G as se}from"./vendor-mui-layout.b03fb29f.js";import{T as ne,F as te}from"./vendor-mui-inputs.b77362ac.js";import{M as ae}from"./vendor-mui-menus.328affd2.js";const re={},ie=function(e,s,n){if(!s||0===s.length)return e();const t=document.getElementsByTagName("link");return Promise.all(s.map((e=>{if((e=function(e){return"/"+e}(e))in re)return;re[e]=!0;const s=e.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!n)for(let n=t.length-1;n>=0;n--){const a=t[n];if(a.href===e&&(!s||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const r=document.createElement("link");return r.rel=s?"stylesheet":"modulepreload",s||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),s?new Promise(((s,n)=>{r.addEventListener("load",s),r.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}))},oe="/images/add.1821f3eb.svg",le="/images/basic.6c985946.svg",ce="/images/box.cadfc274.svg",de="/images/capsule.fd2838a1.svg",ue="/images/check.4bb2aa1b.svg",he="/images/cone.089ee678.svg",me="/images/cylinder.2cee11c1.svg",pe="/images/delete.110df900.svg",ve="/images/edit.cb4b1ffb.svg",je="/images/empty.9a8fac6d.svg",xe="/images/error.136829ef.svg",fe="/images/info.0fdb5fee.svg",ge="/images/material.1d3cbdf6.svg",ye="/images/physics.c188aedf.svg",be="/images/plane.15225f9b.svg",Se="/images/plus.c0920846.svg",Ce="/images/position.b2c2deb5.svg",_e="/images/refresh.f1c2fb26.svg",Ee="/images/scene.9548d6b7.svg",Ne="/images/sphere.46fb490a.svg",we="/images/view.b1248352.svg",ke="/images/warning.0dfbd272.svg",Ae="/images/logo.1761ef18.svg",De="/images/default-scene.1080c948.svg",Ie=()=>s.jsxs("div",{className:"loading-page",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Loading..."})]}),Le=()=>s.jsxs("div",{style:{padding:"2rem",margin:"2rem auto",maxWidth:"600px",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[s.jsx("h1",{children:"Something went wrong"}),s.jsx("p",{children:"We're having trouble loading the application. Please try again later."})]}),Oe=({children:e})=>{const{isAuthenticated:n,loading:t}=m((e=>e.auth));return t?s.jsx(Ie,{}):n?e:s.jsx(l,{to:"/",replace:!0})},Te=()=>{const n=c();e.useEffect((()=>{n.search}),[n]);const t=e.lazy((()=>ie((()=>import("./app-page-home.8730038f.js")),["assets/app-page-home.8730038f.js","assets/vendor-react-core.73efc664.js","assets/vendor-tone-classnames.ea5eadd4.js","assets/vendor-mui-core.4359195f.js","assets/vendor-tone-useThemeProps.a5833127.js","assets/vendor-tone-util.a79eb63f.js","assets/vendor-tone-helpers.07e4d08d.js","assets/vendor-tone-platform.4f06f964.js","assets/vendor-tone-browser.dd42b0e8.js","assets/vendor-tone-classes.909fbaba.js","assets/vendor-tone-core-base.398f9a2a.js","assets/vendor-tone-defaults.617853c7.js","assets/vendor-tone-cancel.b93f499f.js","assets/vendor-tone-adapters.ec1cb8a7.js","assets/vendor-tone-lodash.1d9c6a83.js","assets/vendor-tone-events.9afa7530.js","assets/vendor-tone-audio.70450c41.js","assets/vendor-tone-source.0b4b1ccd.js","assets/vendor-tone-tslib.f5f62bcb.js","assets/vendor-tone-signal.648ab60f.js","assets/vendor-tone-components.680c7d7e.js","assets/vendor-tone-esm.8edb30e2.js","assets/vendor-tone-type.9e20d569.js","assets/vendor-tone-dist.6485732f.js","assets/vendor-tone-module.5bbe5778.js","assets/vendor-tone-styled-engine.72d9b7d5.js","assets/vendor-emotion-styled.ae0fdb08.js","assets/vendor-emotion-core.fcf170e6.js","assets/vendor-tone-src.89c6b4f5.js","assets/vendor-tone-StyledEngineProvider.626b917c.js","assets/vendor-tone-GlobalStyles.58bf1e29.js","assets/vendor-tone-createTheme.6c673f08.js","assets/vendor-tone-styleFunctionSx.dbcb4226.js","assets/vendor-tone-instruments.3eb491c0.js","assets/vendor-tone-effects.66f8dc4e.js","assets/vendor-react-dom.e7130502.js","assets/vendor-react-scheduler.c51d43b5.js","assets/vendor-tone-hooks.ee856eec.js","assets/vendor-tone-es.9387ac1c.js","assets/vendor-tone-dist-web.442e5e08.js","assets/vendor-tone-Selector.7ca3b0ed.js","assets/vendor-tone-TimePanel.ca272323.js","assets/vendor-tone-panels.35d19878.js","assets/vendor-tone-DatetimePanel.eb5b0baf.js","assets/vendor-tone-DatePanel.9f66ebd0.js","assets/vendor-tone-WeekPanel.896778be.js","assets/vendor-tone-MonthPanel.70b7688e.js","assets/vendor-tone-QuarterPanel.144363f0.js","assets/vendor-tone-YearPanel.b92617d1.js","assets/vendor-tone-DecadePanel.8c0dc02f.js","assets/vendor-tone-TabPanelList.10481429.js","assets/vendor-tone-TabNavList.2513addc.js","assets/vendor-tone-Dialog.2ffc21c8.js","assets/vendor-tone-Content.9808c346.js","assets/vendor-tone-context.2287e470.js","assets/vendor-tone-SubMenu.1b0c3984.js","assets/vendor-tone-Popup.9ff27a32.js","assets/vendor-tone-SingleObserver.ddf11abe.js","assets/vendor-tone-icons.388eb8da.js","assets/vendor-tone-asn.f94d41fd.js","assets/vendor-tone-message.06244fbe.js","assets/vendor-tone-config-provider.2fc53c46.js","assets/vendor-tone-form.6dd4e248.js","assets/vendor-tone-grid.9235ce83.js","assets/vendor-tone-locale-provider.8d53e5b8.js","assets/vendor-tone-modal.4772d80b.js","assets/vendor-tone-button.429dcaea.js","assets/vendor-tone-space.95ee87ca.js","assets/vendor-tone-locale.9bc1cdd3.js","assets/vendor-tone-useModal.b905cda5.js","assets/vendor-tone-tooltip.4e7d946d.js","assets/vendor-tone-FormItem.7dbdfc6f.js","assets/vendor-tone-notification.2961f1bd.js","assets/vendor-tone-empty.6f888680.js","assets/vendor-tone-channel.a150b5c9.js","assets/vendor-tone-menu.86d2dba0.js","assets/vendor-tone-layout.4cbd4c32.js","assets/vendor-tone-useMediaQuery.95247262.js","assets/vendor-mui-buttons.74e6c144.js","assets/vendor-tone-system.c96386b3.js","assets/vendor-mui-inputs.b77362ac.js","assets/vendor-tone-validation.226ee14c.js","assets/vendor-tone-LocalizationProvider.b505657c.js","assets/vendor-tone-locales.e8ab67da.js","assets/vendor-tone-RtlProvider.df0b182e.js","assets/vendor-tone-constants.d67dcaf6.js","assets/vendor-mui-dialogs.59185291.js","assets/vendor-tone-env.26551821.js","assets/vendor-react-props.65efe0a6.js","assets/vendor-mui-list.1c6188a6.js","assets/vendor-tone-Stack.f8b60d0c.js","assets/vendor-mui-menus.328affd2.js","assets/vendor-tone-DefaultPropsProvider.3d25d93b.js","assets/vendor-react-redux.ca23f922.js","assets/vendor-tone-shim.e999ecad.js","assets/vendor-tone-cjs.5d603e0b.js","assets/vendor-tone-use-sync-external-store-shim.d3746bbc.js","assets/vendor-react-router.6468192e.js","assets/app-redux-auth-slice.749a10ad.js","assets/vendor-redux-toolkit.fa18e013.js","assets/vendor-redux-core.f9606c35.js","assets/app-services-api.399edcf9.js","assets/vendor-tone-lib.58935e90.js","assets/app-utils.cd93f9c5.js","assets/app-constants.4a812be2.js","assets/app-modals.11788519.js","assets/app-other-components.5e297c7e.js","assets/app-redux-scene-thunks.d96f7130.js","assets/app-redux-scene-slice.81f21730.js","assets/app-contexts.6347d155.js","assets/app-redux-other-slices.a7022ed8.js","assets/app-redux-auth-thunks.3612091e.js","assets/app-redux-note-slice.2ed79aa2.js","assets/app-redux-note-thunks.e47bcfeb.js","assets/vendor-mui-card.3348f8fd.js","assets/vendor-mui-layout.b03fb29f.js","assets/vendor-tone-Container.5ed3ed7d.js","assets/vendor-mui-icons-other.bc15c9b6.js","assets/app-redux-character-slice.77cb9e4b.js","assets/app-redux-character-thunks.c46623e8.js","assets/app-characters-components.a508a592.js","assets/vendor-tone-select.c6c7620f.js","assets/vendor-tone-spin.d13f75fd.js","assets/vendor-tone-avatar.122bfb6a.js","assets/vendor-tone-popover.9c9808a5.js","styles/app-characters-components.c11b9da2.css","assets/app-redux-physics-thunks.c58b7b1a.js","assets/vendor-tone-upload.27f9a3b5.js","assets/vendor-tone-UploadList.9372bedd.js","assets/vendor-tone-progress.cc741b51.js","assets/vendor-tone-card.8385b307.js","assets/vendor-tone-skeleton.45affeec.js","assets/vendor-tone-tabs.69cd71fe.js","assets/vendor-tone-switch.4218e0a6.js","assets/app-scenes-components.e3ba29e5.js","assets/app-scenes-form.07f7a30a.js","assets/vendor-tone-dayjs.54e2289e.js","assets/vendor-tone-alert.89362924.js","assets/vendor-tone-input.876080ec.js","assets/vendor-tone-divider.a6c32c3c.js","assets/vendor-tone-date-picker.3f71bbe3.js","assets/vendor-tone-tag.30f4ea2f.js","assets/vendor-tone-generate.3bd3dbc2.js","assets/vendor-tone-generatePicker.e957b148.js","assets/vendor-tone-radio.0de19148.js","assets/vendor-tone-typography.2404bb54.js","assets/vendor-tone-Base.81f829aa.js","assets/vendor-tone-copy-to-clipboard.e7f533f2.js","assets/vendor-tone-toggle-selection.c563a038.js","assets/app-services-other.47edd63d.js","assets/app-physics-components.dcafff4c.js","assets/app-physics-list.9dc0d346.js","assets/app-redux-physics-slice.b0d37703.js","assets/app-redux-core.93965072.js","assets/vendor-redux-persist.1ece7284.js","assets/app-routes.fd68d670.js","assets/vendor-tone-DatePicker.de25fe8c.js","assets/vendor-tone-DesktopDatePicker.f7be1484.js","assets/vendor-tone-dateViewRenderers.da97565f.js","assets/vendor-tone-DateCalendar.07d8b1f1.js","assets/vendor-tone-PickersDay.36f5e5b8.js","assets/vendor-tone-PickersCalendarHeader.d19a4873.js","assets/vendor-tone-YearCalendar.53b1f79c.js","assets/vendor-tone-MonthCalendar.110ab177.js","assets/vendor-tone-DateField.a7ba308d.js","assets/vendor-tone-useField.40869926.js","assets/vendor-tone-PickersTextField.1b1b2159.js","assets/vendor-tone-PickersInput.177ec5f5.js","assets/vendor-tone-PickersInputBase.b4cbf25e.js","assets/vendor-tone-PickersSectionList.b3696c3f.js","assets/vendor-tone-PickersFilledInput.ea55e758.js","assets/vendor-tone-PickersOutlinedInput.cd7d73be.js","assets/vendor-tone-useDesktopPicker.83b3e221.js","assets/vendor-tone-usePicker.425377a1.js","assets/vendor-tone-PickersLayout.80c91798.js","assets/vendor-tone-PickersActionBar.6bdc4ff9.js","assets/vendor-tone-PickersShortcuts.51e2ec2a.js","assets/vendor-tone-MobileDatePicker.51f93f0c.js","assets/vendor-tone-useMobilePicker.b0b52352.js","assets/vendor-tone-input-number.28372503.js","styles/app-physics-components.5a8010c9.css","styles/app-other-components.e0155f62.css","styles/app-modals.8b853758.css"])));return s.jsx(e.Suspense,{fallback:s.jsx(Ie,{}),children:s.jsx(t,{})})},Ue=e.lazy((()=>ie((()=>Promise.resolve().then((()=>Be))),void 0))),Re=()=>s.jsx(e.Suspense,{fallback:s.jsx(Ie,{}),children:s.jsx(Ue,{})}),Pe=()=>{const n=m((e=>e.auth)),{isAuthenticated:a,isLoading:r}=n,l=p(),[c,d]=e.useTransition(),[u,h]=e.useState(null),[v,j]=e.useState(!1);e.useEffect((()=>{const e=localStorage.getItem(k.TOKEN_KEY),s=localStorage.getItem(k.USER_KEY);e&&s&&!a&&l(N());const n=e=>{l(N())};return window.addEventListener("auth-storage-changed",n),()=>{window.removeEventListener("auth-storage-changed",n)}}),[l,a]),e.useEffect((()=>{const e=localStorage.getItem(k.TOKEN_KEY),s=localStorage.getItem(k.USER_KEY);if(e&&s)try{const e=JSON.parse(s);e&&"object"==typeof e&&(e.id||e.user&&e.user.id||e.data&&e.data.id||e.data&&e.data.user&&e.data.user.id)?l(N()):A()||l(w())}catch(n){A()||l(w())}else v&&!A()&&l(w());j(!0)}),[l]),e.useEffect((()=>{const e=e=>{if(!e.key||e.key===k.TOKEN_KEY||e.key===k.USER_KEY){const e=localStorage.getItem(k.TOKEN_KEY),s=localStorage.getItem(k.USER_KEY);e&&s?l(N()):v&&!A()&&l(w())}};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)}),[l,v]),e.useEffect((()=>{if(!r){if(!E||!Array.isArray(E))return;d((()=>{try{const e=E.map(((e,n)=>{var t;return s.jsx(i,{path:e.path,element:e.element,children:null==(t=e.children)?void 0:t.map(((e,n)=>s.jsx(i,{index:e.index,path:e.path,element:e.element},n)))},n)}));h(e)}catch(e){}}))}}),[r,a]);const f=a?"authenticated":"unauthenticated";if(r)return s.jsx(Ie,{});try{return s.jsxs("div",{className:"App",children:[s.jsx(x,{}),s.jsx("main",{className:"App-main",children:s.jsx(e.Suspense,{fallback:s.jsx(Ie,{}),children:s.jsx(o,{children:c?s.jsx(i,{path:"*",element:s.jsx(Ie,{})}):s.jsxs(s.Fragment,{children:[s.jsx(i,{path:"/",element:s.jsx(Te,{})}),s.jsx(i,{path:"/dashboard",element:s.jsx(Oe,{children:s.jsx(Re,{})})}),s.jsx(i,{path:"/universes/:universeId/characters",element:s.jsx(Oe,{children:s.jsx(e.Suspense,{fallback:s.jsx(Ie,{}),children:t.createElement(e.lazy((()=>ie((()=>import("./app-page-characters.66bccfad.js")),["assets/app-page-characters.66bccfad.js","assets/vendor-react-core.73efc664.js","assets/vendor-tone-classnames.ea5eadd4.js","assets/vendor-mui-core.4359195f.js","assets/vendor-tone-useThemeProps.a5833127.js","assets/vendor-tone-util.a79eb63f.js","assets/vendor-tone-helpers.07e4d08d.js","assets/vendor-tone-platform.4f06f964.js","assets/vendor-tone-browser.dd42b0e8.js","assets/vendor-tone-classes.909fbaba.js","assets/vendor-tone-core-base.398f9a2a.js","assets/vendor-tone-defaults.617853c7.js","assets/vendor-tone-cancel.b93f499f.js","assets/vendor-tone-adapters.ec1cb8a7.js","assets/vendor-tone-lodash.1d9c6a83.js","assets/vendor-tone-events.9afa7530.js","assets/vendor-tone-audio.70450c41.js","assets/vendor-tone-source.0b4b1ccd.js","assets/vendor-tone-tslib.f5f62bcb.js","assets/vendor-tone-signal.648ab60f.js","assets/vendor-tone-components.680c7d7e.js","assets/vendor-tone-esm.8edb30e2.js","assets/vendor-tone-type.9e20d569.js","assets/vendor-tone-dist.6485732f.js","assets/vendor-tone-module.5bbe5778.js","assets/vendor-tone-styled-engine.72d9b7d5.js","assets/vendor-emotion-styled.ae0fdb08.js","assets/vendor-emotion-core.fcf170e6.js","assets/vendor-tone-src.89c6b4f5.js","assets/vendor-tone-StyledEngineProvider.626b917c.js","assets/vendor-tone-GlobalStyles.58bf1e29.js","assets/vendor-tone-createTheme.6c673f08.js","assets/vendor-tone-styleFunctionSx.dbcb4226.js","assets/vendor-tone-instruments.3eb491c0.js","assets/vendor-tone-effects.66f8dc4e.js","assets/vendor-react-dom.e7130502.js","assets/vendor-react-scheduler.c51d43b5.js","assets/vendor-tone-hooks.ee856eec.js","assets/vendor-tone-es.9387ac1c.js","assets/vendor-tone-dist-web.442e5e08.js","assets/vendor-tone-Selector.7ca3b0ed.js","assets/vendor-tone-TimePanel.ca272323.js","assets/vendor-tone-panels.35d19878.js","assets/vendor-tone-DatetimePanel.eb5b0baf.js","assets/vendor-tone-DatePanel.9f66ebd0.js","assets/vendor-tone-WeekPanel.896778be.js","assets/vendor-tone-MonthPanel.70b7688e.js","assets/vendor-tone-QuarterPanel.144363f0.js","assets/vendor-tone-YearPanel.b92617d1.js","assets/vendor-tone-DecadePanel.8c0dc02f.js","assets/vendor-tone-TabPanelList.10481429.js","assets/vendor-tone-TabNavList.2513addc.js","assets/vendor-tone-Dialog.2ffc21c8.js","assets/vendor-tone-Content.9808c346.js","assets/vendor-tone-context.2287e470.js","assets/vendor-tone-SubMenu.1b0c3984.js","assets/vendor-tone-Popup.9ff27a32.js","assets/vendor-tone-SingleObserver.ddf11abe.js","assets/vendor-tone-icons.388eb8da.js","assets/vendor-tone-asn.f94d41fd.js","assets/vendor-tone-message.06244fbe.js","assets/vendor-tone-config-provider.2fc53c46.js","assets/vendor-tone-form.6dd4e248.js","assets/vendor-tone-grid.9235ce83.js","assets/vendor-tone-locale-provider.8d53e5b8.js","assets/vendor-tone-modal.4772d80b.js","assets/vendor-tone-button.429dcaea.js","assets/vendor-tone-space.95ee87ca.js","assets/vendor-tone-locale.9bc1cdd3.js","assets/vendor-tone-useModal.b905cda5.js","assets/vendor-tone-tooltip.4e7d946d.js","assets/vendor-tone-FormItem.7dbdfc6f.js","assets/vendor-tone-notification.2961f1bd.js","assets/vendor-tone-empty.6f888680.js","assets/vendor-tone-channel.a150b5c9.js","assets/vendor-tone-menu.86d2dba0.js","assets/vendor-tone-layout.4cbd4c32.js","assets/vendor-tone-useMediaQuery.95247262.js","assets/vendor-mui-buttons.74e6c144.js","assets/vendor-tone-system.c96386b3.js","assets/vendor-mui-inputs.b77362ac.js","assets/vendor-tone-validation.226ee14c.js","assets/vendor-tone-LocalizationProvider.b505657c.js","assets/vendor-tone-locales.e8ab67da.js","assets/vendor-tone-RtlProvider.df0b182e.js","assets/vendor-tone-constants.d67dcaf6.js","assets/vendor-mui-dialogs.59185291.js","assets/vendor-tone-env.26551821.js","assets/vendor-react-props.65efe0a6.js","assets/vendor-mui-list.1c6188a6.js","assets/vendor-tone-Stack.f8b60d0c.js","assets/vendor-mui-menus.328affd2.js","assets/vendor-tone-DefaultPropsProvider.3d25d93b.js","assets/vendor-react-redux.ca23f922.js","assets/vendor-tone-shim.e999ecad.js","assets/vendor-tone-cjs.5d603e0b.js","assets/vendor-tone-use-sync-external-store-shim.d3746bbc.js","assets/app-redux-physics-thunks.c58b7b1a.js","assets/vendor-redux-toolkit.fa18e013.js","assets/vendor-redux-core.f9606c35.js","assets/app-services-api.399edcf9.js","assets/vendor-tone-lib.58935e90.js","assets/app-utils.cd93f9c5.js","assets/app-constants.4a812be2.js","assets/app-modals.11788519.js","assets/app-other-components.5e297c7e.js","assets/app-redux-scene-thunks.d96f7130.js","assets/app-redux-scene-slice.81f21730.js","assets/vendor-react-router.6468192e.js","assets/app-contexts.6347d155.js","assets/app-redux-other-slices.a7022ed8.js","assets/app-redux-auth-thunks.3612091e.js","assets/app-redux-auth-slice.749a10ad.js","assets/app-redux-note-slice.2ed79aa2.js","assets/app-redux-note-thunks.e47bcfeb.js","assets/vendor-mui-card.3348f8fd.js","assets/vendor-mui-layout.b03fb29f.js","assets/vendor-tone-Container.5ed3ed7d.js","assets/vendor-mui-icons-other.bc15c9b6.js","assets/app-redux-character-slice.77cb9e4b.js","assets/app-redux-character-thunks.c46623e8.js","assets/app-characters-components.a508a592.js","assets/vendor-tone-select.c6c7620f.js","assets/vendor-tone-spin.d13f75fd.js","assets/vendor-tone-avatar.122bfb6a.js","assets/vendor-tone-popover.9c9808a5.js","styles/app-characters-components.c11b9da2.css","assets/vendor-tone-upload.27f9a3b5.js","assets/vendor-tone-UploadList.9372bedd.js","assets/vendor-tone-progress.cc741b51.js","assets/vendor-tone-card.8385b307.js","assets/vendor-tone-skeleton.45affeec.js","assets/vendor-tone-tabs.69cd71fe.js","assets/vendor-tone-switch.4218e0a6.js","assets/app-scenes-components.e3ba29e5.js","assets/app-scenes-form.07f7a30a.js","assets/vendor-tone-dayjs.54e2289e.js","assets/vendor-tone-alert.89362924.js","assets/vendor-tone-input.876080ec.js","assets/vendor-tone-divider.a6c32c3c.js","assets/vendor-tone-date-picker.3f71bbe3.js","assets/vendor-tone-tag.30f4ea2f.js","assets/vendor-tone-generate.3bd3dbc2.js","assets/vendor-tone-generatePicker.e957b148.js","assets/vendor-tone-radio.0de19148.js","assets/vendor-tone-typography.2404bb54.js","assets/vendor-tone-Base.81f829aa.js","assets/vendor-tone-copy-to-clipboard.e7f533f2.js","assets/vendor-tone-toggle-selection.c563a038.js","assets/app-services-other.47edd63d.js","assets/app-physics-components.dcafff4c.js","assets/app-physics-list.9dc0d346.js","assets/app-redux-physics-slice.b0d37703.js","assets/app-redux-core.93965072.js","assets/vendor-redux-persist.1ece7284.js","assets/app-routes.fd68d670.js","assets/vendor-tone-DatePicker.de25fe8c.js","assets/vendor-tone-DesktopDatePicker.f7be1484.js","assets/vendor-tone-dateViewRenderers.da97565f.js","assets/vendor-tone-DateCalendar.07d8b1f1.js","assets/vendor-tone-PickersDay.36f5e5b8.js","assets/vendor-tone-PickersCalendarHeader.d19a4873.js","assets/vendor-tone-YearCalendar.53b1f79c.js","assets/vendor-tone-MonthCalendar.110ab177.js","assets/vendor-tone-DateField.a7ba308d.js","assets/vendor-tone-useField.40869926.js","assets/vendor-tone-PickersTextField.1b1b2159.js","assets/vendor-tone-PickersInput.177ec5f5.js","assets/vendor-tone-PickersInputBase.b4cbf25e.js","assets/vendor-tone-PickersSectionList.b3696c3f.js","assets/vendor-tone-PickersFilledInput.ea55e758.js","assets/vendor-tone-PickersOutlinedInput.cd7d73be.js","assets/vendor-tone-useDesktopPicker.83b3e221.js","assets/vendor-tone-usePicker.425377a1.js","assets/vendor-tone-PickersLayout.80c91798.js","assets/vendor-tone-PickersActionBar.6bdc4ff9.js","assets/vendor-tone-PickersShortcuts.51e2ec2a.js","assets/vendor-tone-MobileDatePicker.51f93f0c.js","assets/vendor-tone-useMobilePicker.b0b52352.js","assets/vendor-tone-input-number.28372503.js","styles/app-physics-components.5a8010c9.css","styles/app-other-components.e0155f62.css","styles/app-modals.8b853758.css"]))))})})}),s.jsx(i,{path:"/universes/:universeId/scenes",element:s.jsx(Oe,{children:s.jsx(e.Suspense,{fallback:s.jsx(Ie,{}),children:t.createElement(e.lazy((()=>ie((()=>import("./app-page-scenes.5f12d50d.js")),["assets/app-page-scenes.5f12d50d.js","assets/vendor-react-core.73efc664.js","assets/vendor-tone-classnames.ea5eadd4.js","assets/vendor-mui-core.4359195f.js","assets/vendor-tone-useThemeProps.a5833127.js","assets/vendor-tone-util.a79eb63f.js","assets/vendor-tone-helpers.07e4d08d.js","assets/vendor-tone-platform.4f06f964.js","assets/vendor-tone-browser.dd42b0e8.js","assets/vendor-tone-classes.909fbaba.js","assets/vendor-tone-core-base.398f9a2a.js","assets/vendor-tone-defaults.617853c7.js","assets/vendor-tone-cancel.b93f499f.js","assets/vendor-tone-adapters.ec1cb8a7.js","assets/vendor-tone-lodash.1d9c6a83.js","assets/vendor-tone-events.9afa7530.js","assets/vendor-tone-audio.70450c41.js","assets/vendor-tone-source.0b4b1ccd.js","assets/vendor-tone-tslib.f5f62bcb.js","assets/vendor-tone-signal.648ab60f.js","assets/vendor-tone-components.680c7d7e.js","assets/vendor-tone-esm.8edb30e2.js","assets/vendor-tone-type.9e20d569.js","assets/vendor-tone-dist.6485732f.js","assets/vendor-tone-module.5bbe5778.js","assets/vendor-tone-styled-engine.72d9b7d5.js","assets/vendor-emotion-styled.ae0fdb08.js","assets/vendor-emotion-core.fcf170e6.js","assets/vendor-tone-src.89c6b4f5.js","assets/vendor-tone-StyledEngineProvider.626b917c.js","assets/vendor-tone-GlobalStyles.58bf1e29.js","assets/vendor-tone-createTheme.6c673f08.js","assets/vendor-tone-styleFunctionSx.dbcb4226.js","assets/vendor-tone-instruments.3eb491c0.js","assets/vendor-tone-effects.66f8dc4e.js","assets/vendor-react-dom.e7130502.js","assets/vendor-react-scheduler.c51d43b5.js","assets/vendor-tone-hooks.ee856eec.js","assets/vendor-tone-es.9387ac1c.js","assets/vendor-tone-dist-web.442e5e08.js","assets/vendor-tone-Selector.7ca3b0ed.js","assets/vendor-tone-TimePanel.ca272323.js","assets/vendor-tone-panels.35d19878.js","assets/vendor-tone-DatetimePanel.eb5b0baf.js","assets/vendor-tone-DatePanel.9f66ebd0.js","assets/vendor-tone-WeekPanel.896778be.js","assets/vendor-tone-MonthPanel.70b7688e.js","assets/vendor-tone-QuarterPanel.144363f0.js","assets/vendor-tone-YearPanel.b92617d1.js","assets/vendor-tone-DecadePanel.8c0dc02f.js","assets/vendor-tone-TabPanelList.10481429.js","assets/vendor-tone-TabNavList.2513addc.js","assets/vendor-tone-Dialog.2ffc21c8.js","assets/vendor-tone-Content.9808c346.js","assets/vendor-tone-context.2287e470.js","assets/vendor-tone-SubMenu.1b0c3984.js","assets/vendor-tone-Popup.9ff27a32.js","assets/vendor-tone-SingleObserver.ddf11abe.js","assets/vendor-tone-icons.388eb8da.js","assets/vendor-tone-asn.f94d41fd.js","assets/vendor-tone-message.06244fbe.js","assets/vendor-tone-config-provider.2fc53c46.js","assets/vendor-tone-form.6dd4e248.js","assets/vendor-tone-grid.9235ce83.js","assets/vendor-tone-locale-provider.8d53e5b8.js","assets/vendor-tone-modal.4772d80b.js","assets/vendor-tone-button.429dcaea.js","assets/vendor-tone-space.95ee87ca.js","assets/vendor-tone-locale.9bc1cdd3.js","assets/vendor-tone-useModal.b905cda5.js","assets/vendor-tone-tooltip.4e7d946d.js","assets/vendor-tone-FormItem.7dbdfc6f.js","assets/vendor-tone-notification.2961f1bd.js","assets/vendor-tone-empty.6f888680.js","assets/vendor-tone-channel.a150b5c9.js","assets/vendor-tone-menu.86d2dba0.js","assets/vendor-tone-layout.4cbd4c32.js","assets/vendor-tone-useMediaQuery.95247262.js","assets/vendor-mui-buttons.74e6c144.js","assets/vendor-tone-system.c96386b3.js","assets/vendor-mui-inputs.b77362ac.js","assets/vendor-tone-validation.226ee14c.js","assets/vendor-tone-LocalizationProvider.b505657c.js","assets/vendor-tone-locales.e8ab67da.js","assets/vendor-tone-RtlProvider.df0b182e.js","assets/vendor-tone-constants.d67dcaf6.js","assets/vendor-mui-dialogs.59185291.js","assets/vendor-tone-env.26551821.js","assets/vendor-react-props.65efe0a6.js","assets/vendor-mui-list.1c6188a6.js","assets/vendor-tone-Stack.f8b60d0c.js","assets/vendor-mui-menus.328affd2.js","assets/vendor-tone-DefaultPropsProvider.3d25d93b.js","assets/app-services-api.399edcf9.js","assets/vendor-tone-lib.58935e90.js","assets/app-utils.cd93f9c5.js","assets/app-constants.4a812be2.js","assets/app-modals.11788519.js","assets/app-other-components.5e297c7e.js","assets/vendor-react-redux.ca23f922.js","assets/vendor-tone-shim.e999ecad.js","assets/vendor-tone-cjs.5d603e0b.js","assets/vendor-tone-use-sync-external-store-shim.d3746bbc.js","assets/app-redux-scene-thunks.d96f7130.js","assets/vendor-redux-toolkit.fa18e013.js","assets/vendor-redux-core.f9606c35.js","assets/app-redux-scene-slice.81f21730.js","assets/vendor-react-router.6468192e.js","assets/app-contexts.6347d155.js","assets/app-redux-other-slices.a7022ed8.js","assets/app-redux-auth-thunks.3612091e.js","assets/app-redux-auth-slice.749a10ad.js","assets/app-redux-note-slice.2ed79aa2.js","assets/app-redux-note-thunks.e47bcfeb.js","assets/vendor-mui-card.3348f8fd.js","assets/vendor-mui-layout.b03fb29f.js","assets/vendor-tone-Container.5ed3ed7d.js","assets/vendor-mui-icons-other.bc15c9b6.js","assets/app-redux-character-slice.77cb9e4b.js","assets/app-redux-character-thunks.c46623e8.js","assets/app-characters-components.a508a592.js","assets/vendor-tone-select.c6c7620f.js","assets/vendor-tone-spin.d13f75fd.js","assets/vendor-tone-avatar.122bfb6a.js","assets/vendor-tone-popover.9c9808a5.js","styles/app-characters-components.c11b9da2.css","assets/app-redux-physics-thunks.c58b7b1a.js","assets/vendor-tone-upload.27f9a3b5.js","assets/vendor-tone-UploadList.9372bedd.js","assets/vendor-tone-progress.cc741b51.js","assets/vendor-tone-card.8385b307.js","assets/vendor-tone-skeleton.45affeec.js","assets/vendor-tone-tabs.69cd71fe.js","assets/vendor-tone-switch.4218e0a6.js","assets/app-scenes-components.e3ba29e5.js","assets/app-scenes-form.07f7a30a.js","assets/vendor-tone-dayjs.54e2289e.js","assets/vendor-tone-alert.89362924.js","assets/vendor-tone-input.876080ec.js","assets/vendor-tone-divider.a6c32c3c.js","assets/vendor-tone-date-picker.3f71bbe3.js","assets/vendor-tone-tag.30f4ea2f.js","assets/vendor-tone-generate.3bd3dbc2.js","assets/vendor-tone-generatePicker.e957b148.js","assets/vendor-tone-radio.0de19148.js","assets/vendor-tone-typography.2404bb54.js","assets/vendor-tone-Base.81f829aa.js","assets/vendor-tone-copy-to-clipboard.e7f533f2.js","assets/vendor-tone-toggle-selection.c563a038.js","assets/app-services-other.47edd63d.js","assets/app-physics-components.dcafff4c.js","assets/app-physics-list.9dc0d346.js","assets/app-redux-physics-slice.b0d37703.js","assets/app-redux-core.93965072.js","assets/vendor-redux-persist.1ece7284.js","assets/app-routes.fd68d670.js","assets/vendor-tone-DatePicker.de25fe8c.js","assets/vendor-tone-DesktopDatePicker.f7be1484.js","assets/vendor-tone-dateViewRenderers.da97565f.js","assets/vendor-tone-DateCalendar.07d8b1f1.js","assets/vendor-tone-PickersDay.36f5e5b8.js","assets/vendor-tone-PickersCalendarHeader.d19a4873.js","assets/vendor-tone-YearCalendar.53b1f79c.js","assets/vendor-tone-MonthCalendar.110ab177.js","assets/vendor-tone-DateField.a7ba308d.js","assets/vendor-tone-useField.40869926.js","assets/vendor-tone-PickersTextField.1b1b2159.js","assets/vendor-tone-PickersInput.177ec5f5.js","assets/vendor-tone-PickersInputBase.b4cbf25e.js","assets/vendor-tone-PickersSectionList.b3696c3f.js","assets/vendor-tone-PickersFilledInput.ea55e758.js","assets/vendor-tone-PickersOutlinedInput.cd7d73be.js","assets/vendor-tone-useDesktopPicker.83b3e221.js","assets/vendor-tone-usePicker.425377a1.js","assets/vendor-tone-PickersLayout.80c91798.js","assets/vendor-tone-PickersActionBar.6bdc4ff9.js","assets/vendor-tone-PickersShortcuts.51e2ec2a.js","assets/vendor-tone-MobileDatePicker.51f93f0c.js","assets/vendor-tone-useMobilePicker.b0b52352.js","assets/vendor-tone-input-number.28372503.js","styles/app-physics-components.5a8010c9.css","styles/app-other-components.e0155f62.css","styles/app-modals.8b853758.css"]))))})})}),s.jsx(i,{path:"/scenes/:sceneId",element:s.jsx(Oe,{children:s.jsx(e.Suspense,{fallback:s.jsx(Ie,{}),children:t.createElement(e.lazy((()=>ie((()=>import("./app-scenes-detail.fbc2a4f7.js")),["assets/app-scenes-detail.fbc2a4f7.js","assets/vendor-react-core.73efc664.js","assets/vendor-tone-classnames.ea5eadd4.js","assets/vendor-mui-core.4359195f.js","assets/vendor-tone-useThemeProps.a5833127.js","assets/vendor-tone-util.a79eb63f.js","assets/vendor-tone-helpers.07e4d08d.js","assets/vendor-tone-platform.4f06f964.js","assets/vendor-tone-browser.dd42b0e8.js","assets/vendor-tone-classes.909fbaba.js","assets/vendor-tone-core-base.398f9a2a.js","assets/vendor-tone-defaults.617853c7.js","assets/vendor-tone-cancel.b93f499f.js","assets/vendor-tone-adapters.ec1cb8a7.js","assets/vendor-tone-lodash.1d9c6a83.js","assets/vendor-tone-events.9afa7530.js","assets/vendor-tone-audio.70450c41.js","assets/vendor-tone-source.0b4b1ccd.js","assets/vendor-tone-tslib.f5f62bcb.js","assets/vendor-tone-signal.648ab60f.js","assets/vendor-tone-components.680c7d7e.js","assets/vendor-tone-esm.8edb30e2.js","assets/vendor-tone-type.9e20d569.js","assets/vendor-tone-dist.6485732f.js","assets/vendor-tone-module.5bbe5778.js","assets/vendor-tone-styled-engine.72d9b7d5.js","assets/vendor-emotion-styled.ae0fdb08.js","assets/vendor-emotion-core.fcf170e6.js","assets/vendor-tone-src.89c6b4f5.js","assets/vendor-tone-StyledEngineProvider.626b917c.js","assets/vendor-tone-GlobalStyles.58bf1e29.js","assets/vendor-tone-createTheme.6c673f08.js","assets/vendor-tone-styleFunctionSx.dbcb4226.js","assets/vendor-tone-instruments.3eb491c0.js","assets/vendor-tone-effects.66f8dc4e.js","assets/vendor-react-dom.e7130502.js","assets/vendor-react-scheduler.c51d43b5.js","assets/vendor-tone-hooks.ee856eec.js","assets/vendor-tone-es.9387ac1c.js","assets/vendor-tone-dist-web.442e5e08.js","assets/vendor-tone-Selector.7ca3b0ed.js","assets/vendor-tone-TimePanel.ca272323.js","assets/vendor-tone-panels.35d19878.js","assets/vendor-tone-DatetimePanel.eb5b0baf.js","assets/vendor-tone-DatePanel.9f66ebd0.js","assets/vendor-tone-WeekPanel.896778be.js","assets/vendor-tone-MonthPanel.70b7688e.js","assets/vendor-tone-QuarterPanel.144363f0.js","assets/vendor-tone-YearPanel.b92617d1.js","assets/vendor-tone-DecadePanel.8c0dc02f.js","assets/vendor-tone-TabPanelList.10481429.js","assets/vendor-tone-TabNavList.2513addc.js","assets/vendor-tone-Dialog.2ffc21c8.js","assets/vendor-tone-Content.9808c346.js","assets/vendor-tone-context.2287e470.js","assets/vendor-tone-SubMenu.1b0c3984.js","assets/vendor-tone-Popup.9ff27a32.js","assets/vendor-tone-SingleObserver.ddf11abe.js","assets/vendor-tone-icons.388eb8da.js","assets/vendor-tone-asn.f94d41fd.js","assets/vendor-tone-message.06244fbe.js","assets/vendor-tone-config-provider.2fc53c46.js","assets/vendor-tone-form.6dd4e248.js","assets/vendor-tone-grid.9235ce83.js","assets/vendor-tone-locale-provider.8d53e5b8.js","assets/vendor-tone-modal.4772d80b.js","assets/vendor-tone-button.429dcaea.js","assets/vendor-tone-space.95ee87ca.js","assets/vendor-tone-locale.9bc1cdd3.js","assets/vendor-tone-useModal.b905cda5.js","assets/vendor-tone-tooltip.4e7d946d.js","assets/vendor-tone-FormItem.7dbdfc6f.js","assets/vendor-tone-notification.2961f1bd.js","assets/vendor-tone-empty.6f888680.js","assets/vendor-tone-channel.a150b5c9.js","assets/vendor-tone-menu.86d2dba0.js","assets/vendor-tone-layout.4cbd4c32.js","assets/vendor-tone-useMediaQuery.95247262.js","assets/vendor-mui-buttons.74e6c144.js","assets/vendor-tone-system.c96386b3.js","assets/vendor-mui-inputs.b77362ac.js","assets/vendor-tone-validation.226ee14c.js","assets/vendor-tone-LocalizationProvider.b505657c.js","assets/vendor-tone-locales.e8ab67da.js","assets/vendor-tone-RtlProvider.df0b182e.js","assets/vendor-tone-constants.d67dcaf6.js","assets/vendor-mui-dialogs.59185291.js","assets/vendor-tone-env.26551821.js","assets/vendor-react-props.65efe0a6.js","assets/vendor-mui-list.1c6188a6.js","assets/vendor-tone-Stack.f8b60d0c.js","assets/vendor-mui-menus.328affd2.js","assets/vendor-tone-DefaultPropsProvider.3d25d93b.js","assets/vendor-react-redux.ca23f922.js","assets/vendor-tone-shim.e999ecad.js","assets/vendor-tone-cjs.5d603e0b.js","assets/vendor-tone-use-sync-external-store-shim.d3746bbc.js","assets/app-redux-scene-thunks.d96f7130.js","assets/vendor-redux-toolkit.fa18e013.js","assets/vendor-redux-core.f9606c35.js","assets/app-services-api.399edcf9.js","assets/vendor-tone-lib.58935e90.js","assets/app-utils.cd93f9c5.js","assets/app-constants.4a812be2.js","assets/app-modals.11788519.js","assets/app-other-components.5e297c7e.js","assets/vendor-react-router.6468192e.js","assets/app-contexts.6347d155.js","assets/app-redux-other-slices.a7022ed8.js","assets/app-redux-auth-thunks.3612091e.js","assets/app-redux-auth-slice.749a10ad.js","assets/app-redux-note-slice.2ed79aa2.js","assets/app-redux-note-thunks.e47bcfeb.js","assets/vendor-mui-card.3348f8fd.js","assets/vendor-mui-layout.b03fb29f.js","assets/vendor-tone-Container.5ed3ed7d.js","assets/vendor-mui-icons-other.bc15c9b6.js","assets/app-redux-character-slice.77cb9e4b.js","assets/app-redux-character-thunks.c46623e8.js","assets/app-characters-components.a508a592.js","assets/vendor-tone-select.c6c7620f.js","assets/vendor-tone-spin.d13f75fd.js","assets/vendor-tone-avatar.122bfb6a.js","assets/vendor-tone-popover.9c9808a5.js","styles/app-characters-components.c11b9da2.css","assets/app-redux-physics-thunks.c58b7b1a.js","assets/vendor-tone-upload.27f9a3b5.js","assets/vendor-tone-UploadList.9372bedd.js","assets/vendor-tone-progress.cc741b51.js","assets/vendor-tone-card.8385b307.js","assets/vendor-tone-skeleton.45affeec.js","assets/vendor-tone-tabs.69cd71fe.js","assets/vendor-tone-switch.4218e0a6.js","assets/app-scenes-components.e3ba29e5.js","assets/app-scenes-form.07f7a30a.js","assets/vendor-tone-dayjs.54e2289e.js","assets/vendor-tone-alert.89362924.js","assets/vendor-tone-input.876080ec.js","assets/vendor-tone-divider.a6c32c3c.js","assets/vendor-tone-date-picker.3f71bbe3.js","assets/vendor-tone-tag.30f4ea2f.js","assets/vendor-tone-generate.3bd3dbc2.js","assets/vendor-tone-generatePicker.e957b148.js","assets/vendor-tone-radio.0de19148.js","assets/vendor-tone-typography.2404bb54.js","assets/vendor-tone-Base.81f829aa.js","assets/vendor-tone-copy-to-clipboard.e7f533f2.js","assets/vendor-tone-toggle-selection.c563a038.js","assets/app-services-other.47edd63d.js","assets/app-physics-components.dcafff4c.js","assets/app-physics-list.9dc0d346.js","assets/app-redux-physics-slice.b0d37703.js","assets/app-redux-core.93965072.js","assets/vendor-redux-persist.1ece7284.js","assets/app-redux-scene-slice.81f21730.js","assets/app-routes.fd68d670.js","assets/vendor-tone-DatePicker.de25fe8c.js","assets/vendor-tone-DesktopDatePicker.f7be1484.js","assets/vendor-tone-dateViewRenderers.da97565f.js","assets/vendor-tone-DateCalendar.07d8b1f1.js","assets/vendor-tone-PickersDay.36f5e5b8.js","assets/vendor-tone-PickersCalendarHeader.d19a4873.js","assets/vendor-tone-YearCalendar.53b1f79c.js","assets/vendor-tone-MonthCalendar.110ab177.js","assets/vendor-tone-DateField.a7ba308d.js","assets/vendor-tone-useField.40869926.js","assets/vendor-tone-PickersTextField.1b1b2159.js","assets/vendor-tone-PickersInput.177ec5f5.js","assets/vendor-tone-PickersInputBase.b4cbf25e.js","assets/vendor-tone-PickersSectionList.b3696c3f.js","assets/vendor-tone-PickersFilledInput.ea55e758.js","assets/vendor-tone-PickersOutlinedInput.cd7d73be.js","assets/vendor-tone-useDesktopPicker.83b3e221.js","assets/vendor-tone-usePicker.425377a1.js","assets/vendor-tone-PickersLayout.80c91798.js","assets/vendor-tone-PickersActionBar.6bdc4ff9.js","assets/vendor-tone-PickersShortcuts.51e2ec2a.js","assets/vendor-tone-MobileDatePicker.51f93f0c.js","assets/vendor-tone-useMobilePicker.b0b52352.js","assets/vendor-tone-input-number.28372503.js","styles/app-physics-components.5a8010c9.css","styles/app-other-components.e0155f62.css","styles/app-modals.8b853758.css"]))))})})}),u]})})})}),s.jsx("footer",{className:"App-footer",children:s.jsxs("p",{children:["Â© ",(new Date).getFullYear()," Harmonic Universe"]})})]},f)}catch(g){return s.jsx(Le,{})}};function Fe(){const[t,a]=e.useState(!1);if(e.useEffect((()=>()=>{}),[]),t)return s.jsx(Le,{});try{return s.jsx(h,{store:v,children:s.jsx(n,{loading:s.jsx(Ie,{}),persistor:j,children:s.jsx(r,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:s.jsx(_,{children:s.jsx(Pe,{})})})})})}catch(i){return a(!0),s.jsx(Le,{})}}window.addEventListener("storage",(e=>{e.key!==k.TOKEN_KEY&&e.key!==k.USER_KEY||window.dispatchEvent(new CustomEvent("auth-storage-changed",{detail:{key:e.key,newValue:e.newValue}}))})),window.onerror=function(e,s,n,t,a){return!1};const ze=()=>{let e=document.getElementById("root");return e||(e=document.createElement("div"),e.id="root",document.body.appendChild(e)),e},Ke=async()=>{try{window.location.pathname.includes("/scenes/")&&window.location.pathname.includes("/edit");if(!document.getElementById("portal-root")){const e=document.createElement("div");e.id="portal-root",document.body.appendChild(e)}(()=>{try{D()}catch(e){}try{a.createRoot(ze()).render(s.jsx(t.StrictMode,{children:s.jsx(Fe,{})}))}catch(e){try{t.createElement(Fe);const e=ze();e.innerHTML="";const s=document.createElement("div");s.innerHTML="<h1>Harmonic Universe</h1><p>Application is loading...</p>",e.appendChild(s)}catch(n){ze().innerHTML="<div><h1>Harmonic Universe</h1><p>Application failed to initialize. Please try again later.</p></div>"}}})()}catch(e){}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Ke):Ke();const Ye="/images/default-universe.c53b4bee.svg",Be=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const n=d(),t=p(),{universes:a,loading:r,error:i}=m((e=>e.universes)),{isAuthenticated:o,user:l}=m((e=>e.auth)),[c,u]=e.useState(!1),[h,v]=e.useState(!1),[j,x]=e.useState(!1),[b,S]=e.useState(null),[C,_]=e.useState("updated_at"),[E,N]=e.useState("all"),[w,k]=e.useState(null),[A,D]=e.useState(0),O=e.useCallback((()=>t(I({userId:null==l?void 0:l.id,user_only:!0})).then((e=>{if(!e.payload)return A<3&&D((e=>e+1)),{error:"No data received from server"};let s=[];return Array.isArray(e.payload)?s=e.payload:e.payload.universes&&Array.isArray(e.payload.universes)?s=e.payload.universes:e.payload.data&&Array.isArray(e.payload.data.universes)&&(s=e.payload.data.universes),{universes:s}})).catch((e=>({error:e.message})))),[t,A,null==l?void 0:l.id]);e.useEffect((()=>{O()}),[O]),e.useEffect((()=>{}),[a]),e.useEffect((()=>{o?O():n("/?modal=login",{replace:!0})}),[n,O,A,o]),e.useEffect((()=>{if(w){const e=setTimeout((()=>{k(null)}),5e3);return()=>clearTimeout(e)}}),[w]);const T=()=>{t(F()),n("/")},U=()=>{u(!0)},R=e=>{u(!1),e&&e.id&&k(e.id),O()},P=e=>{n(`/universes/${e.id}`)},Y=e=>{S(e),v(!0)},B=e=>{v(!1),S(null),O()},M=e=>{S(e),x(!0)},V=async()=>{if(b){try{await t(L(b.id)),O()}catch(e){}x(!1),S(null)}},Z=()=>{if(!a||!Array.isArray(a))return[];let e=[...a];return"public"===E?e=e.filter((e=>e.is_public)):"private"===E&&(e=e.filter((e=>!e.is_public))),e.sort(((e,s)=>{switch(C){case"name":return(e.name||"").localeCompare(s.name||"");case"created_at":return new Date(s.created_at||0)-new Date(e.created_at||0);default:return new Date(s.updated_at||0)-new Date(e.updated_at||0)}}))};return r?s.jsx("div",{className:"dashboard-container",children:s.jsxs("div",{className:"loading-spinner",children:[s.jsx(z,{}),s.jsx(K,{variant:"h6",children:"Loading your universes..."})]})}):a&&0!==a.length?i&&(null==a?void 0:a.length)?s.jsxs("div",{className:"dashboard-container",children:[s.jsxs("div",{className:"dashboard-header",children:[s.jsx(K,{variant:"h4",component:"h1",children:"Your Universes"}),s.jsxs("div",{className:"dashboard-actions",children:[s.jsx(g,{content:"Refresh universe list",position:"bottom",children:s.jsx(H,{variant:"outlined",color:"primary",onClick:O,startIcon:s.jsx($,{}),disabled:r,children:"Refresh"})}),s.jsx(g,{content:"Create a new universe",position:"bottom",children:s.jsx(H,{variant:"contained",color:"primary",onClick:U,startIcon:s.jsx(W,{}),children:"Create Universe"})}),s.jsx(g,{content:"Log out of your account",position:"bottom",children:s.jsx(H,{variant:"outlined",color:"secondary",onClick:T,startIcon:s.jsx(J,{}),children:"Logout"})})]})]}),s.jsxs("div",{className:"universes-controls",children:[s.jsx(g,{content:"Filter universes by visibility",position:"top",children:s.jsxs("select",{className:"control-select",value:E,onChange:e=>N(e.target.value),children:[s.jsx("option",{value:"all",children:"All Universes"}),s.jsx("option",{value:"public",children:"Public Only"}),s.jsx("option",{value:"private",children:"Private Only"})]})}),s.jsx(g,{content:"Sort universes by different criteria",position:"top",children:s.jsxs("select",{className:"control-select",value:C,onChange:e=>_(e.target.value),children:[s.jsx("option",{value:"updated_at",children:"Recently Updated"}),s.jsx("option",{value:"created_at",children:"Recently Created"}),s.jsx("option",{value:"name",children:"Name (A-Z)"})]})})]}),s.jsx(K,{color:"error",className:"error-message",children:"object"==typeof i?JSON.stringify(i):i}),s.jsx("div",{className:"universes-grid",children:Z().map((e=>s.jsx(y,{universe:e,isNew:e.id===w,onView:()=>P(e),onEdit:()=>Y(e),onDelete:()=>M(e)},e.id)))}),ee()]}):s.jsxs("div",{className:"dashboard-container",children:[s.jsxs("div",{className:"dashboard-header",children:[s.jsx(K,{variant:"h4",component:"h1",children:"Your Universes"}),s.jsxs("div",{className:"dashboard-actions",children:[s.jsx(g,{content:"Refresh universe list",position:"bottom",children:s.jsx(H,{variant:"outlined",color:"primary",onClick:O,startIcon:s.jsx($,{}),disabled:r,children:"Refresh"})}),s.jsx(g,{content:"Create a new universe",position:"bottom",children:s.jsx(H,{variant:"contained",color:"primary",onClick:U,startIcon:s.jsx(W,{}),children:"Create Universe"})}),s.jsx(g,{content:"Log out of your account",position:"bottom",children:s.jsx(H,{variant:"outlined",color:"secondary",onClick:T,startIcon:s.jsx(J,{}),children:"Logout"})})]})]}),s.jsxs("div",{className:"universes-controls",children:[s.jsx(g,{content:"Filter universes by visibility",position:"top",children:s.jsxs("select",{className:"control-select",value:E,onChange:e=>N(e.target.value),children:[s.jsx("option",{value:"all",children:"All Universes"}),s.jsx("option",{value:"public",children:"Public Only"}),s.jsx("option",{value:"private",children:"Private Only"})]})}),s.jsx(g,{content:"Sort universes by different criteria",position:"top",children:s.jsxs("select",{className:"control-select",value:C,onChange:e=>_(e.target.value),children:[s.jsx("option",{value:"updated_at",children:"Recently Updated"}),s.jsx("option",{value:"created_at",children:"Recently Created"}),s.jsx("option",{value:"name",children:"Name (A-Z)"})]})})]}),s.jsx("div",{className:"universes-grid",children:Z().map((e=>s.jsx(y,{universe:e,isNew:e.id===w,onView:()=>P(e),onEdit:()=>Y(e),onDelete:()=>M(e)},e.id)))}),ee()]}):s.jsxs("div",{className:"dashboard-container",children:[s.jsxs("div",{className:"empty-state",children:[s.jsx(K,{variant:"h4",gutterBottom:!0,children:"Welcome to Harmonic Universe!"}),s.jsx(K,{variant:"body1",paragraph:!0,children:"Create your first universe to start exploring the connection between music and physics."}),s.jsx(H,{variant:"contained",color:"primary",size:"large",onClick:U,startIcon:s.jsx(W,{}),children:"Create Your First Universe"})]}),c&&s.jsx(f,{isOpen:c,onClose:()=>u(!1),onSuccess:R})]});function ee(){return s.jsxs(s.Fragment,{children:[c&&s.jsx(f,{isOpen:c,onClose:()=>u(!1),onSuccess:R}),h&&b&&s.jsx(f,{isOpen:h,onClose:()=>v(!1),onSuccess:B,universe:b,isEdit:!0}),j&&b&&s.jsxs(Q,{open:j,onClose:()=>x(!1),children:[s.jsx(q,{children:"Confirm Delete"}),s.jsx(G,{children:s.jsxs(K,{children:['Are you sure you want to delete the universe "',b.name,'"? This action cannot be undone and will delete all associated scenes, characters, and notes.']})}),s.jsxs(X,{children:[s.jsx(H,{onClick:()=>x(!1),children:"Cancel"}),s.jsx(H,{onClick:V,color:"error",children:"Delete"})]})]})]})}}},Symbol.toStringTag,{value:"Module"})),Me=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const{id:n}=u(),t=c(),a=p(),r=d(),{currentUniverse:i,loading:o,error:l}=m((e=>e.universes)),{scenes:h,loading:v}=m((e=>e.scenes)),[j,x]=e.useState(!1),[g,y]=e.useState(!1),[_,E]=e.useState(!1),[N,w]=e.useState(!1),[k,A]=e.useState(null);e.useEffect((()=>{n&&(a(O({id:n})),a(T(n)))}),[a,n]),e.useEffect((()=>{t.pathname.endsWith("/edit")&&i&&x(!0)}),[t.pathname,i]);const D=()=>{E(!0)},I=e=>{A(e),w(!0)},L=e=>{window.confirm(`Are you sure you want to delete "${e.title||e.name}"? This cannot be undone.`)&&a(U(e.id)).then((()=>{a(T(n))})).catch((e=>{}))},R=h.filter((e=>e.universe_id===parseInt(n,10)));if(o&&!i)return s.jsxs("div",{className:"loading-container",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading universe..."})]});if(l){let e="Unknown error occurred";return"string"==typeof l?e=l:"object"==typeof l&&(e=l.message||l.error||(l.data?l.data.message||l.data.error:null)||JSON.stringify(l)),s.jsxs("div",{className:"error-container",children:[s.jsx("h2",{children:"Error"}),s.jsx("p",{children:e}),s.jsx(b,{onClick:()=>r("/universes"),children:"Back to Universes"})]})}return i?s.jsxs("div",{className:"universe-detail-container",children:[s.jsxs("div",{className:"universe-detail-header",children:[s.jsxs("div",{className:"universe-info",children:[s.jsx("h1",{children:i.name}),s.jsxs("div",{className:"universe-meta",children:[s.jsx("span",{className:"universe-visibility "+(i.is_public?"public":"private"),children:i.is_public?"Public":"Private"}),i.theme&&s.jsx("span",{className:"universe-theme",children:i.theme}),i.genre&&s.jsx("span",{className:"universe-genre",children:i.genre})]})]}),s.jsxs("div",{className:"universe-actions",children:[s.jsx(b,{onClick:()=>{x(!0)},variant:"secondary",children:"Edit Universe"}),s.jsx(b,{onClick:()=>{y(!0)},variant:"danger",children:"Delete Universe"})]})]}),i.description&&s.jsx("div",{className:"universe-description",children:s.jsx("p",{children:i.description})}),s.jsxs("div",{className:"universe-content",children:[s.jsxs("div",{className:"universe-scenes-header",children:[s.jsx("h2",{children:"Scenes"}),s.jsx(b,{onClick:D,variant:"primary",children:"Create Scene"})]}),v?s.jsxs("div",{className:"loading-container small",children:[s.jsx("div",{className:"spinner"}),s.jsx("p",{children:"Loading scenes..."})]}):R.length>0?s.jsx("div",{className:"scene-grid",children:R.map((e=>s.jsx(P,{scene:e,onEdit:I,onDelete:L},e.id)))}):s.jsxs("div",{className:"empty-state",children:[s.jsx("p",{children:"No scenes found in this universe"}),s.jsx(b,{onClick:D,variant:"primary",children:"Create Your First Scene"})]})]}),j&&s.jsx(f,{isOpen:j,onClose:()=>{x(!1),t.pathname.endsWith("/edit")&&r(`/universes/${n}`)},onSuccess:()=>{x(!1),t.pathname.endsWith("/edit")?r(`/universes/${n}`):a(O({id:n}))},initialData:i}),g&&s.jsx(S,{isOpen:g,onClose:()=>y(!1),onSuccess:()=>{y(!1),r("/universes")},universe:i}),_&&s.jsx(C,{isOpen:_,onClose:()=>E(!1),onSuccess:()=>{E(!1),a(T(n))},universeId:n,modalType:"create"}),N&&k&&s.jsx(C,{isOpen:N,onClose:()=>{w(!1),A(null)},onSuccess:()=>{w(!1),A(null),a(T(n))},initialData:k,universeId:n,modalType:"edit",sceneId:k.id}),void 0]}):s.jsxs("div",{className:"not-found-container",children:[s.jsx("h2",{children:"Universe Not Found"}),s.jsx("p",{children:"The universe you're looking for doesn't exist or you don't have permission to view it."}),s.jsx(b,{onClick:()=>r("/universes"),children:"Back to Universes"})]})}},Symbol.toStringTag,{value:"Module"})),He=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const n=p();d();const{universeId:t}=u(),{scenes:a=[],locallyCreatedScenes:r=[],universeScenes:i={},loading:o=!1,error:l=null}=m((e=>e.scenes||{scenes:[],locallyCreatedScenes:[],universeScenes:{},loading:!1,error:null})),{user:c}=m((e=>e.auth||{})),h=t&&i[t]?i[t]:a.filter((e=>e&&e.universe_id===t));e.useState(!1);const[v,j]=e.useState(null);e.useState(null);const[x,f]=e.useState("all"),[g,y]=e.useState("updated_at"),[b,S]=e.useState("desc"),[_,E]=e.useState(0),[N,w]=e.useState(!1),[k,A]=e.useState(null),[D,I]=e.useState(null);e.useEffect((()=>{if(t){const e=n(R(t));e&&"function"==typeof e.then&&e.then((e=>{var s;if(e.payload&&e.payload.scenes,null==(s=null==e?void 0:e.payload)?void 0:s.scenes){const s=e.payload.scenes.map((e=>({...e,is_deleted:!0===e.is_deleted})));n({type:"scenes/fetchScenes/fulfilled",payload:{scenes:s},meta:{arg:t}})}})).catch((e=>{}))}}),[n,t,_]),e.useEffect((()=>{if(t&&r.length>0){const e=r.filter((e=>e&&e.universe_id===t));e.length>0&&(i[t]||n({type:"scenes/fetchScenes/fulfilled",payload:{scenes:e},meta:{arg:t}}))}}),[t,r,i,n]);const L=()=>{A("create"),I(null),w(!0)},O=e=>{A("edit"),I(e),w(!0)},T=()=>{w(!1),A(null),I(null)},{filteredAndSortedScenes:F,activeScenes:J,deletedScenes:re}=e.useMemo((()=>{if(!Array.isArray(a))return{filteredAndSortedScenes:[],activeScenes:[],deletedScenes:[]};let e=a.filter((e=>!!e));const s=e.filter((e=>!0===e.is_deleted)),n=e.filter((e=>!0!==e.is_deleted));let t=[...n];if(searchQuery){const e=searchQuery.toLowerCase();t=t.filter((s=>{var n,t,a,r,i,o;return(null==(n=s.name)?void 0:n.toLowerCase().includes(e))||(null==(t=s.description)?void 0:t.toLowerCase().includes(e))||(null==(a=s.summary)?void 0:a.toLowerCase().includes(e))||(null==(r=s.content)?void 0:r.toLowerCase().includes(e))||(null==(i=s.location)?void 0:i.toLowerCase().includes(e))||(null==(o=s.notes)?void 0:o.toLowerCase().includes(e))}))}return statusFilter&&"all"!==statusFilter&&(t=t.filter((e=>e.status===statusFilter))),typeFilter&&"all"!==typeFilter&&(t=t.filter((e=>e.scene_type===typeFilter))),g&&(t=[...t].sort(((e,s)=>{if("name"===g||"status"===g||"scene_type"===g||"location"===g){const n=String(e[g]||"").toLowerCase(),t=String(s[g]||"").toLowerCase();return"asc"===sortDirection?n.localeCompare(t):t.localeCompare(n)}if("date_of_scene"===g||"created_at"===g||"updated_at"===g){const n=e[g]?new Date(e[g]):new Date(0),t=s[g]?new Date(s[g]):new Date(0);return"asc"===sortDirection?n-t:t-n}if("order"===g||"id"===g){const n=Number(e[g]||0),t=Number(s[g]||0);return"asc"===sortDirection?n-t:t-n}return 0}))),{filteredAndSortedScenes:t,activeScenes:n,deletedScenes:s}}),[a,searchQuery,statusFilter,typeFilter,g,sortDirection]);e.useEffect((()=>{t&&i[t]}),[t,i]);return o?s.jsx(Z,{className:"scene-list-container",children:s.jsx(ee,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:s.jsx(z,{})})}):l?s.jsx(Z,{className:"scene-list-container",children:s.jsx(Y,{severity:"error",sx:{mt:2},children:"object"==typeof l?l.message||"An unknown error occurred":l})}):s.jsxs(Z,{className:"scene-list-container",children:[s.jsxs(ee,{className:"scene-list-header",children:[s.jsx(K,{variant:"h4",component:"h1",children:"Scenes"}),s.jsxs(ee,{className:"scene-list-actions",children:[s.jsxs(ee,{className:"filter-buttons",children:[s.jsx(H,{variant:"all"===x?"contained":"outlined",size:"small",onClick:()=>f("all"),children:"All"}),s.jsx(H,{variant:"active"===x?"contained":"outlined",size:"small",onClick:()=>f("active"),children:"Active"}),s.jsx(H,{variant:"inactive"===x?"contained":"outlined",size:"small",onClick:()=>f("inactive"),children:"Inactive"}),s.jsx(B,{title:"Force Refresh Scenes",children:s.jsx(V,{color:"primary",size:"small",onClick:()=>{E((e=>e+1)),n(R(t)).then((e=>{var s;if(null==(s=null==e?void 0:e.payload)?void 0:s.scenes){const s=e.payload.scenes;s.filter((e=>e&&!0!==e.is_deleted)),s.filter((e=>e&&!0===e.is_deleted))}}))},sx:{ml:1},children:s.jsx($,{})})})]}),s.jsxs(ee,{className:"sort-controls",children:[s.jsxs(ne,{select:!0,label:"Sort By",value:g,onChange:e=>{y(e.target.value)},size:"small",sx:{minWidth:"120px",mr:1},children:[s.jsx(ae,{value:"name",children:"Name"}),s.jsx(ae,{value:"created_at",children:"Created"}),s.jsx(ae,{value:"updated_at",children:"Updated"})]}),s.jsx(te,{control:s.jsx(M,{checked:"desc"===b,onChange:()=>{S("asc"===b?"desc":"asc")},name:"sortDesc",size:"small"}),label:"Desc"})]}),s.jsx(H,{variant:"contained",color:"primary",startIcon:s.jsx(W,{}),onClick:L,children:"Create Scene"})]})]}),s.jsx(C,{isOpen:N,onClose:T,onSuccess:e=>{n(R(t)),T()},universeId:t,modalType:k,sceneData:D?a.find((e=>e.id===D)):null}),s.jsxs(Q,{open:!!v,onClose:()=>j(null),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[s.jsx(q,{id:"alert-dialog-title",children:"Confirm Delete"}),s.jsx(G,{children:s.jsxs(K,{children:['Are you sure you want to delete scene "',v?v.name||v.title:"",'"? This action cannot be undone.']})}),s.jsxs(X,{children:[s.jsx(H,{onClick:()=>j(null),color:"primary",children:"Cancel"}),s.jsx(H,{onClick:()=>{v&&(n(U(v.id)),j(null),n(R(t)))},color:"error",variant:"contained",autoFocus:!0,children:"Delete"})]})]}),s.jsxs(ee,{sx:{mt:4,p:2,border:"1px dashed #ccc",borderRadius:1,display:"none"},children:[s.jsx(K,{variant:"h6",children:"Debug Information"}),s.jsxs(K,{variant:"body2",children:["Universe ID: ",t]}),s.jsxs(K,{variant:"body2",children:["Scenes Count: ",(h||[]).length]}),s.jsxs(K,{variant:"body2",children:["Filtered Scenes Count: ",F.length]}),s.jsxs(K,{variant:"body2",children:["Scenes in Redux Store: ",(a||[]).length]}),s.jsxs(K,{variant:"body2",children:["Local Scenes: ",(r||[]).length]}),s.jsxs(ee,{sx:{mt:2},children:[s.jsx(K,{variant:"subtitle2",children:"Raw Scene Data:"}),s.jsx(ee,{component:"pre",sx:{mt:1,maxHeight:200,overflow:"auto",fontSize:"12px",p:1,bgcolor:"#eaeaea",borderRadius:1},children:JSON.stringify(h||[],null,2)})]})]}),F.length>0?s.jsx(se,{container:!0,spacing:3,className:"scene-grid",children:F.map((e=>{var n;return s.jsx(se,{item:!0,xs:12,sm:6,md:4,children:s.jsx(P,{scene:e,onDelete:()=>j(e),onEdit:O,isOwner:(null==c?void 0:c.id)===(null==(n=e.universe)?void 0:n.user_id)})},e.id)}))}):s.jsxs(ee,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"200px",mt:4,children:[s.jsx(K,{variant:"h6",color:"textSecondary",gutterBottom:!0,children:"No scenes found"}),s.jsx(K,{variant:"body1",color:"textSecondary",gutterBottom:!0,children:"Get started by creating your first scene"}),s.jsx(H,{variant:"contained",color:"primary",startIcon:s.jsx(W,{}),onClick:L,sx:{mt:2},children:"Create Scene"})]})]})}},Symbol.toStringTag,{value:"Module"}));export{Be as D,He as S,Me as U,ie as _,oe as a,le as b,ce as c,de as d,ue as e,he as f,me as g,pe as h,ve as i,je as j,xe as k,fe as l,ge as m,be as n,Se as o,ye as p,Ce as q,_e as r,Ee as s,Ne as t,Ae as u,we as v,ke as w,Ye as x,De as y};
