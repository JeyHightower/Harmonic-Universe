import{a as e}from"./vendor-redux-toolkit.fa18e013.js";import{f as a,a as d,b as o,e as l,c as n,u as r,d as s,g as t,h as i}from"./app-redux-note-thunks.e47bcfeb.js";const u=e({name:"notes",initialState:{notes:[],currentNote:null,loading:!1,error:null,success:!1,modalOpen:!1,modalType:null},reducers:{setNotes:(e,a)=>{e.notes=a.payload,e.error=null},setCurrentNote:(e,a)=>{e.currentNote=a.payload,e.error=null},addNoteAction:(e,a)=>{e.notes.push(a.payload)},updateNoteAction:(e,a)=>{var d;const o=e.notes.findIndex((e=>e.id===a.payload.id));-1!==o&&(e.notes[o]=a.payload,(null==(d=e.currentNote)?void 0:d.id)===a.payload.id&&(e.currentNote=a.payload))},deleteNoteAction:(e,a)=>{var d;e.notes=e.notes.filter((e=>e.id!==a.payload)),(null==(d=e.currentNote)?void 0:d.id)===a.payload&&(e.currentNote=null)},openModal:(e,a)=>{e.modalOpen=!0,e.modalType=a.payload},closeModal:e=>{e.modalOpen=!1,e.modalType=null},clearError:e=>{e.error=null},clearSuccess:e=>{e.success=!1}},extraReducers:e=>{e.addCase(a.pending,(e=>{e.loading=!0,e.error=null})).addCase(a.fulfilled,((e,a)=>{e.loading=!1,e.notes=a.payload})).addCase(a.rejected,((e,a)=>{var d;e.loading=!1,e.error=(null==(d=a.payload)?void 0:d.message)||"Failed to fetch universe notes"})).addCase(d.pending,(e=>{e.loading=!0,e.error=null})).addCase(d.fulfilled,((e,a)=>{e.loading=!1,e.notes=a.payload})).addCase(d.rejected,((e,a)=>{var d;e.loading=!1,e.error=(null==(d=a.payload)?void 0:d.message)||"Failed to fetch scene notes"})).addCase(o.pending,(e=>{e.loading=!0,e.error=null})).addCase(o.fulfilled,((e,a)=>{e.loading=!1,e.notes=a.payload})).addCase(o.rejected,((e,a)=>{var d;e.loading=!1,e.error=(null==(d=a.payload)?void 0:d.message)||"Failed to fetch character notes"})).addCase(l.pending,(e=>{e.loading=!0,e.error=null})).addCase(l.fulfilled,((e,a)=>{e.loading=!1,e.currentNote=a.payload})).addCase(l.rejected,((e,a)=>{var d;e.loading=!1,e.error=(null==(d=a.payload)?void 0:d.message)||"Failed to fetch note"})).addCase(n.pending,(e=>{e.loading=!0,e.error=null,e.success=!1})).addCase(n.fulfilled,((e,a)=>{e.loading=!1,e.notes.push(a.payload),e.success=!0,e.modalOpen=!1})).addCase(n.rejected,((e,a)=>{var d;e.loading=!1,e.error=(null==(d=a.payload)?void 0:d.message)||"Failed to create note",e.success=!1})).addCase(r.pending,(e=>{e.loading=!0,e.error=null,e.success=!1})).addCase(r.fulfilled,((e,a)=>{var d;e.loading=!1;const o=e.notes.findIndex((e=>e.id===a.payload.id));-1!==o&&(e.notes[o]=a.payload,(null==(d=e.currentNote)?void 0:d.id)===a.payload.id&&(e.currentNote=a.payload)),e.success=!0,e.modalOpen=!1})).addCase(r.rejected,((e,a)=>{var d;e.loading=!1,e.error=(null==(d=a.payload)?void 0:d.message)||"Failed to update note",e.success=!1})).addCase(s.pending,(e=>{e.loading=!0,e.error=null,e.success=!1})).addCase(s.fulfilled,((e,a)=>{var d;e.loading=!1,e.notes=e.notes.filter((e=>e.id!==a.payload)),(null==(d=e.currentNote)?void 0:d.id)===a.payload&&(e.currentNote=null),e.success=!0})).addCase(s.rejected,((e,a)=>{var d;e.loading=!1,e.error=(null==(d=a.payload)?void 0:d.message)||"Failed to delete note",e.success=!1})).addCase(t.pending,(e=>{e.loading=!0,e.error=null})).addCase(t.fulfilled,((e,a)=>{var d;e.loading=!1;const o=e.notes.findIndex((e=>e.id===a.payload.id));-1!==o&&(e.notes[o]=a.payload,(null==(d=e.currentNote)?void 0:d.id)===a.payload.id&&(e.currentNote=a.payload)),e.success=!0})).addCase(t.rejected,((e,a)=>{var d;e.loading=!1,e.error=(null==(d=a.payload)?void 0:d.message)||"Failed to archive note"})).addCase(i.pending,(e=>{e.loading=!0,e.error=null})).addCase(i.fulfilled,((e,a)=>{var d;e.loading=!1;const o=e.notes.findIndex((e=>e.id===a.payload.id));-1!==o&&(e.notes[o]=a.payload,(null==(d=e.currentNote)?void 0:d.id)===a.payload.id&&(e.currentNote=a.payload)),e.success=!0})).addCase(i.rejected,((e,a)=>{var d;e.loading=!1,e.error=(null==(d=a.payload)?void 0:d.message)||"Failed to unarchive note"}))}}),{setNotes:c,setCurrentNote:p,addNoteAction:g,updateNoteAction:y,deleteNoteAction:v,openModal:f,closeModal:C,clearError:N,clearSuccess:m}=u.actions,h=u.reducer;export{h as n,f as o};
