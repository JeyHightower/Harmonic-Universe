import{l as e,_ as r,k as t,j as o}from"./vendor-tone-esm.8edb30e2.js";import{_ as n}from"./vendor-tone-type.9e20d569.js";import{Q as a}from"./vendor-tone-icons.388eb8da.js";import{c as l}from"./vendor-tone-classnames.ea5eadd4.js";import{r as i}from"./vendor-react-core.73efc664.js";import{C as s}from"./vendor-tone-grid.9235ce83.js";import{u as c}from"./vendor-tone-locale-provider.8d53e5b8.js";import{d as m}from"./vendor-tone-locale.9bc1cdd3.js";import{T as u}from"./vendor-tone-tooltip.4e7d946d.js";import{k as p,C as d,l as f,F as v}from"./vendor-tone-context.2287e470.js";import{C as b,h as g,j as h,k as y,u as C}from"./vendor-tone-es.9387ac1c.js";import{S as E,D as x,a as j,b as w}from"./vendor-tone-config-provider.2fc53c46.js";import{aJ as O}from"./vendor-tone-util.a79eb63f.js";import{n as F,ai as k,aj as N}from"./vendor-tone-hooks.ee856eec.js";import{I as P}from"./vendor-tone-FormItem.7dbdfc6f.js";const _=i.createContext(void 0);var M=[];function I(e,r,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"==typeof e?e:"".concat(t,"-").concat(o),error:e,errorStatus:r}}function q(o){var n=o.help,a=o.helpStatus,s=o.errors,c=void 0===s?M:s,m=o.warnings,u=void 0===m?M:m,f=o.className,v=o.fieldId,h=o.onVisibleChanged,y=i.useContext(p).prefixCls,C=i.useContext(d).getPrefixCls,E="".concat(y,"-item-explain"),x=C(),j=F(c),w=F(u),k=i.useMemo((function(){return null!=n?[I(n,a,"help")]:[].concat(e(j.map((function(e,r){return I(e,"error","error",r)}))),e(w.map((function(e,r){return I(e,"warning","warning",r)}))))}),[n,a,j,w]),N={};return v&&(N.id="".concat(v,"_help")),i.createElement(b,{motionDeadline:O.motionDeadline,motionName:"".concat(x,"-show-help"),visible:!!k.length,onVisibleChanged:h},(function(e){var o=e.className,n=e.style;return i.createElement("div",r({},N,{className:l(E,o,f),style:n,role:"alert"}),i.createElement(g,r({keys:k},O,{motionName:"".concat(x,"-show-help-item"),component:!1}),(function(e){var r=e.key,o=e.error,n=e.errorStatus,a=e.className,s=e.style;return i.createElement("div",{key:r,className:l(a,t({},"".concat(E,"-").concat(n),n)),style:s},o)})))}))}var T=globalThis&&globalThis.__rest||function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]])}return t},S=function(e,a){var s=i.useContext(E),c=i.useContext(x),m=i.useContext(d),u=m.getPrefixCls,p=m.direction,b=m.form,g=e.prefixCls,y=e.className,C=void 0===y?"":y,O=e.size,F=void 0===O?s:O,N=e.disabled,P=void 0===N?c:N,M=e.form,I=e.colon,q=e.labelAlign,S=e.labelWrap,R=e.labelCol,A=e.wrapperCol,V=e.hideRequiredMark,W=e.layout,z=void 0===W?"horizontal":W,D=e.scrollToFirstError,L=e.requiredMark,B=e.onFinishFailed,G=e.name,H=T(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),J=i.useContext(_),K=i.useMemo((function(){return void 0!==L?L:b&&void 0!==b.requiredMark?b.requiredMark:!V}),[V,L,b]),Q=null!=I?I:null==b?void 0:b.colon,U=u("form",g),$=l(U,t(t(t(t({},"".concat(U,"-").concat(z),!0),"".concat(U,"-hide-required-mark"),!1===K),"".concat(U,"-rtl"),"rtl"===p),"".concat(U,"-").concat(F),F),C),X=k(M),Y=o(X,1)[0],Z=Y.__INTERNAL__;Z.name=G;var ee=i.useMemo((function(){return{name:G,labelAlign:q,labelCol:R,labelWrap:S,wrapperCol:A,vertical:"vertical"===z,colon:Q,requiredMark:K,itemRef:Z.itemRef,form:Y}}),[G,q,R,A,z,Q,K,Y]);i.useImperativeHandle(a,(function(){return Y}));return i.createElement(j,{disabled:P},i.createElement(w,{size:F},i.createElement(f,r({},{validateMessages:J}),i.createElement(v.Provider,{value:ee},i.createElement(h,r({id:G},H,{name:G,onFinishFailed:function(e){null==B||B(e);var r={block:"nearest"};D&&e.errorFields.length&&("object"===n(D)&&(r=D),Y.scrollToField(e.errorFields[0].name,r))},form:Y,className:$}))))))};const R=i.forwardRef(S);var A=globalThis&&globalThis.__rest||function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]])}return t};const V=function(e){var p=e.prefixCls,d=e.label,f=e.htmlFor,b=e.labelCol,g=e.labelAlign,h=e.colon,y=e.required,C=e.requiredMark,E=e.tooltip,x=c("Form"),j=o(x,1)[0];return d?i.createElement(v.Consumer,{key:"label"},(function(e){var o,c=e.vertical,v=e.labelAlign,x=e.labelCol,w=e.labelWrap,O=e.colon,F=b||x||{},k=g||v,N="".concat(p,"-item-label"),P=l(N,"left"===k&&"".concat(N,"-left"),F.className,t({},"".concat(N,"-wrap"),!!w)),_=d,M=!0===h||!1!==O&&!1!==h;M&&!c&&"string"==typeof d&&""!==d.trim()&&(_=d.replace(/[:|ï¼š]\s*$/,""));var I=function(e){return e?"object"!==n(e)||i.isValidElement(e)?{title:e}:e:null}(E);if(I){var q=I.icon,T=void 0===q?i.createElement(a,null):q,S=A(I,["icon"]),R=i.createElement(u,r({},S),i.cloneElement(T,{className:"".concat(p,"-item-tooltip"),title:"",onClick:function(e){e.preventDefault()},tabIndex:null}));_=i.createElement(i.Fragment,null,_,R)}"optional"!==C||y||(_=i.createElement(i.Fragment,null,_,i.createElement("span",{className:"".concat(p,"-item-optional"),title:""},(null==j?void 0:j.optional)||(null===(o=m.Form)||void 0===o?void 0:o.optional))));var V=l(t(t(t({},"".concat(p,"-item-required"),y),"".concat(p,"-item-required-mark-optional"),"optional"===C),"".concat(p,"-item-no-colon"),!M));return i.createElement(s,r({},F,{className:P}),i.createElement("label",{htmlFor:f,className:V,title:"string"==typeof d?d:""},_))})):null};const W=function(e){var t=e.prefixCls,o=e.status,n=e.wrapperCol,a=e.children,c=e.errors,m=e.warnings,u=e._internalItemRender,d=e.extra,f=e.help,b=e.fieldId,g=e.marginBottom,h=e.onErrorVisibleChanged,y="".concat(t,"-item"),C=i.useContext(v),E=n||C.wrapperCol||{},x=l("".concat(y,"-control"),E.className),j=i.useMemo((function(){return r({},C)}),[C]);delete j.labelCol,delete j.wrapperCol;var w=i.createElement("div",{className:"".concat(y,"-control-input")},i.createElement("div",{className:"".concat(y,"-control-input-content")},a)),O=i.useMemo((function(){return{prefixCls:t,status:o}}),[t,o]),F=null!==g||c.length||m.length?i.createElement("div",{style:{display:"flex",flexWrap:"nowrap"}},i.createElement(p.Provider,{value:O},i.createElement(q,{fieldId:b,errors:c,warnings:m,help:f,helpStatus:o,className:"".concat(y,"-explain-connected"),onVisibleChanged:h})),!!g&&i.createElement("div",{style:{width:0,height:g}})):null,k={};b&&(k.id="".concat(b,"_extra"));var N=d?i.createElement("div",r({},k,{className:"".concat(y,"-extra")}),d):null,P=u&&"pro_table_render"===u.mark&&u.render?u.render(e,{input:w,errorList:F,extra:N}):i.createElement(i.Fragment,null,w,F,N);return i.createElement(v.Provider,{value:j},i.createElement(s,r({},E,{className:x}),P))};var z=globalThis&&globalThis.__rest||function(e,r){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)r.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(t[o[n]]=e[o[n]])}return t};const D=function(e){var t=e.prefixCls,o=e.children,n=z(e,["prefixCls","children"]),a=(0,i.useContext(d).getPrefixCls)("form",t),l=i.useMemo((function(){return{prefixCls:a,status:"error"}}),[a]);return i.createElement(y,r({},n),(function(e,t,n){return i.createElement(p.Provider,{value:l},o(e.map((function(e){return r(r({},e),{fieldKey:e.key})})),t,{errors:n.errors,warnings:n.warnings}))}))};var L=R;L.Item=P,L.List=D,L.ErrorList=q,L.useForm=k,L.useFormInstance=N,L.useWatch=C,L.Provider=f,L.create=function(){};const B=L;export{B as F,_ as V,V as a,W as b};
