import{a as e,_ as t}from"./vendor-tone-esm.8edb30e2.js";import{r as o,j as r}from"./vendor-react-core.73efc664.js";import{c as n}from"./vendor-tone-dist.6485732f.js";import{u as i}from"./vendor-tone-RtlProvider.df0b182e.js";import{s as a,P as s,u as l,x as c,r as p,y as u}from"./vendor-mui-core.4359195f.js";import{q as d,E as m,o as f,b as v,a as h,g,n as b,k as y,D as P,I as x,e as C}from"./vendor-tone-util.a79eb63f.js";import{M}from"./vendor-mui-dialogs.59185291.js";import{L as w,l as S,d as k,e as E}from"./vendor-mui-list.1c6188a6.js";import{a as T}from"./vendor-tone-system.c96386b3.js";import{a as O}from"./vendor-mui-buttons.74e6c144.js";const $=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function R(e,t,o){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o?null:e.firstChild}function j(e,t,o){return e===t?o?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o?null:e.lastChild}function F(e,t){if(void 0===t)return!0;let o=e.innerText;return void 0===o&&(o=e.textContent),o=o.trim().toLowerCase(),0!==o.length&&(t.repeating?o[0]===t.keys[0]:0===o.indexOf(t.keys.join("")))}function D(e,t,o,r,n,i){let a=!1,s=n(e,t,!!t&&o);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&F(s,i)&&!t)return s.focus(),!0;s=n(e,s,o)}return!1}const I=o.forwardRef((function(n,i){const{actions:a,autoFocus:s=!1,autoFocusItem:l=!1,children:c,className:p,disabledItemsFocusable:u=!1,disableListWrap:h=!1,onKeyDown:g,variant:b="selectedMenu"}=n,y=e(n,$),P=o.useRef(null),x=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});d((()=>{s&&P.current.focus()}),[s]),o.useImperativeHandle(a,(()=>({adjustStyleForScrollbar:(e,{direction:t})=>{const o=!P.current.style.width;if(e.clientHeight<P.current.clientHeight&&o){const o=`${m(f(e))}px`;P.current.style["rtl"===t?"paddingLeft":"paddingRight"]=o,P.current.style.width=`calc(100% + ${o})`}return P.current}})),[]);const C=v(P,i);let M=-1;o.Children.forEach(c,((e,t)=>{o.isValidElement(e)?(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===M)&&(M=t),M===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(M+=1,M>=c.length&&(M=-1))):M===t&&(M+=1,M>=c.length&&(M=-1))}));const S=o.Children.map(c,((e,t)=>{if(t===M){const t={};return l&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===b&&(t.tabIndex=0),o.cloneElement(e,t)}return e}));return r.jsx(w,t({role:"menu",ref:C,className:p,onKeyDown:e=>{const t=P.current,o=e.key,r=f(t).activeElement;if("ArrowDown"===o)e.preventDefault(),D(t,r,h,u,R);else if("ArrowUp"===o)e.preventDefault(),D(t,r,h,u,j);else if("Home"===o)e.preventDefault(),D(t,null,h,u,R);else if("End"===o)e.preventDefault(),D(t,null,h,u,j);else if(1===o.length){const n=x.current,i=o.toLowerCase(),a=performance.now();n.keys.length>0&&(a-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&i!==n.keys[0]&&(n.repeating=!1)),n.lastTime=a,n.keys.push(i);const s=r&&!n.repeating&&F(r,n);n.previousKeyMatched&&(s||D(t,r,!1,u,R,n))?e.preventDefault():n.previousKeyMatched=!1}g&&g(e)},tabIndex:s?0:-1},y,{children:S}))}));function L(e){return h("MuiPopover",e)}g("MuiPopover",["root","paper"]);const N=["onEntering"],z=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],H=["slotProps"];function K(e,t){let o=0;return"number"==typeof t?o=t:"center"===t?o=e.height/2:"bottom"===t&&(o=e.height),o}function V(e,t){let o=0;return"number"==typeof t?o=t:"center"===t?o=e.width/2:"right"===t&&(o=e.width),o}function A(e){return[e.horizontal,e.vertical].map((e=>"number"==typeof e?`${e}px`:e)).join(" ")}function W(e){return"function"==typeof e?e():e}const B=a(M,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),G=a(s,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),q=o.forwardRef((function(i,a){var s,p,u;const d=l({props:i,name:"MuiPopover"}),{action:m,anchorEl:h,anchorOrigin:g={vertical:"top",horizontal:"left"},anchorPosition:M,anchorReference:w="anchorEl",children:S,className:k,container:E,elevation:T=8,marginThreshold:O=16,open:$,PaperProps:R={},slots:j,slotProps:F,transformOrigin:D={vertical:"top",horizontal:"left"},TransitionComponent:I=c,transitionDuration:q="auto",TransitionProps:{onEntering:U}={},disableScrollLock:X=!1}=d,Y=e(d.TransitionProps,N),_=e(d,z),J=null!=(s=null==F?void 0:F.paper)?s:R,Q=o.useRef(),Z=v(Q,J.ref),ee=t({},d,{anchorOrigin:g,anchorReference:w,elevation:T,marginThreshold:O,externalPaperSlotProps:J,transformOrigin:D,TransitionComponent:I,transitionDuration:q,TransitionProps:Y}),te=(e=>{const{classes:t}=e;return C({root:["root"],paper:["paper"]},L,t)})(ee),oe=o.useCallback((()=>{if("anchorPosition"===w)return M;const e=W(h),t=(e&&1===e.nodeType?e:f(Q.current).body).getBoundingClientRect();return{top:t.top+K(t,g.vertical),left:t.left+V(t,g.horizontal)}}),[h,g.horizontal,g.vertical,M,w]),re=o.useCallback((e=>({vertical:K(e,D.vertical),horizontal:V(e,D.horizontal)})),[D.horizontal,D.vertical]),ne=o.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},o=re(t);if("none"===w)return{top:null,left:null,transformOrigin:A(o)};const r=oe();let n=r.top-o.vertical,i=r.left-o.horizontal;const a=n+t.height,s=i+t.width,l=b(W(h)),c=l.innerHeight-O,p=l.innerWidth-O;if(null!==O&&n<O){const e=n-O;n-=e,o.vertical+=e}else if(null!==O&&a>c){const e=a-c;n-=e,o.vertical+=e}if(null!==O&&i<O){const e=i-O;i-=e,o.horizontal+=e}else if(s>p){const e=s-p;i-=e,o.horizontal+=e}return{top:`${Math.round(n)}px`,left:`${Math.round(i)}px`,transformOrigin:A(o)}}),[h,w,oe,re,O]),[ie,ae]=o.useState($),se=o.useCallback((()=>{const e=Q.current;if(!e)return;const t=ne(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,ae(!0)}),[ne]);o.useEffect((()=>(X&&window.addEventListener("scroll",se),()=>window.removeEventListener("scroll",se))),[h,X,se]);o.useEffect((()=>{$&&se()})),o.useImperativeHandle(m,(()=>$?{updatePosition:()=>{se()}}:null),[$,se]),o.useEffect((()=>{if(!$)return;const e=y((()=>{se()})),t=b(h);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[h,$,se]);let le=q;"auto"!==q||I.muiSupportAuto||(le=void 0);const ce=E||(h?f(W(h)).body:void 0),pe=null!=(p=null==j?void 0:j.root)?p:B,ue=null!=(u=null==j?void 0:j.paper)?u:G,de=P({elementType:ue,externalSlotProps:t({},J,{style:ie?J.style:t({},J.style,{opacity:0})}),additionalProps:{elevation:T,ref:Z},ownerState:ee,className:n(te.paper,null==J?void 0:J.className)}),me=P({elementType:pe,externalSlotProps:(null==F?void 0:F.root)||{},externalForwardedProps:_,additionalProps:{ref:a,slotProps:{backdrop:{invisible:!0}},container:ce,open:$},ownerState:ee,className:n(te.root,k)}),{slotProps:fe}=me,ve=e(me,H);return r.jsx(pe,t({},ve,!x(pe)&&{slotProps:fe,disableScrollLock:X},{children:r.jsx(I,t({appear:!0,in:$,onEntering:(e,t)=>{U&&U(e,t),se()},onExited:()=>{ae(!1)},timeout:le},Y,{children:r.jsx(ue,t({},de,{children:S}))}))}))}));function U(e){return h("MuiMenu",e)}g("MuiMenu",["root","paper","list"]);const X=["onEntering"],Y=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],_={vertical:"top",horizontal:"right"},J={vertical:"top",horizontal:"left"},Q=a(q,{shouldForwardProp:e=>p(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Z=a(G,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ee=a(I,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),te=o.forwardRef((function(a,s){var c,p;const u=l({props:a,name:"MuiMenu"}),{autoFocus:d=!0,children:m,className:f,disableAutoFocusItem:v=!1,MenuListProps:h={},onClose:g,open:b,PaperProps:y={},PopoverClasses:x,transitionDuration:M="auto",TransitionProps:{onEntering:w}={},variant:S="selectedMenu",slots:k={},slotProps:E={}}=u,T=e(u.TransitionProps,X),O=e(u,Y),$=i(),R=t({},u,{autoFocus:d,disableAutoFocusItem:v,MenuListProps:h,onEntering:w,PaperProps:y,transitionDuration:M,TransitionProps:T,variant:S}),j=(e=>{const{classes:t}=e;return C({root:["root"],paper:["paper"],list:["list"]},U,t)})(R),F=d&&!v&&b,D=o.useRef(null);let I=-1;o.Children.map(m,((e,t)=>{o.isValidElement(e)&&(e.props.disabled||("selectedMenu"===S&&e.props.selected||-1===I)&&(I=t))}));const L=null!=(c=k.paper)?c:Z,N=null!=(p=E.paper)?p:y,z=P({elementType:k.root,externalSlotProps:E.root,ownerState:R,className:[j.root,f]}),H=P({elementType:L,externalSlotProps:N,ownerState:R,className:j.paper});return r.jsx(Q,t({onClose:g,anchorOrigin:{vertical:"bottom",horizontal:$?"right":"left"},transformOrigin:$?_:J,slots:{paper:L,root:k.root},slotProps:{root:z,paper:H},open:b,ref:s,transitionDuration:M,TransitionProps:t({onEntering:(e,t)=>{D.current&&D.current.adjustStyleForScrollbar(e,{direction:$?"rtl":"ltr"}),w&&w(e,t)}},T),ownerState:R},O,{classes:x,children:r.jsx(ee,t({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),g&&g(e,"tabKeyDown"))},actions:D,autoFocus:d&&(-1===I||v),autoFocusItem:F,variant:S},h,{className:n(j.list,h.className),children:m}))}))}));function oe(e){return h("MuiMenuItem",e)}const re=g("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ne=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ie=a(O,{shouldForwardProp:e=>p(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.dense&&t.dense,o.divider&&t.divider,!o.disableGutters&&t.gutters]}})((({theme:e,ownerState:o})=>t({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${re.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:T(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${re.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:T(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${re.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:T(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:T(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${re.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${re.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${u.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${u.inset}`]:{marginLeft:52},[`& .${S.root}`]:{marginTop:0,marginBottom:0},[`& .${S.inset}`]:{paddingLeft:36},[`& .${k.root}`]:{minWidth:36}},!o.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},o.dense&&t({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${k.root} svg`]:{fontSize:"1.25rem"}})))),ae=o.forwardRef((function(i,a){const s=l({props:i,name:"MuiMenuItem"}),{autoFocus:c=!1,component:p="li",dense:u=!1,divider:m=!1,disableGutters:f=!1,focusVisibleClassName:h,role:g="menuitem",tabIndex:b,className:y}=s,P=e(s,ne),x=o.useContext(E),M=o.useMemo((()=>({dense:u||x.dense||!1,disableGutters:f})),[x.dense,u,f]),w=o.useRef(null);d((()=>{c&&w.current&&w.current.focus()}),[c]);const S=t({},s,{dense:M.dense,divider:m,disableGutters:f}),k=(e=>{const{disabled:o,dense:r,divider:n,disableGutters:i,selected:a,classes:s}=e,l=C({root:["root",r&&"dense",o&&"disabled",!i&&"gutters",n&&"divider",a&&"selected"]},oe,s);return t({},s,l)})(s),T=v(w,a);let O;return s.disabled||(O=void 0!==b?b:-1),r.jsx(E.Provider,{value:M,children:r.jsx(ie,t({ref:T,role:g,tabIndex:O,component:p,focusVisibleClassName:n(k.focusVisible,h),className:n(k.root,y)},P,{ownerState:S,classes:k}))})}));export{ae as M,te as a};
