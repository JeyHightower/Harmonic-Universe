import{j as e}from"./vendor-react-core.73efc664.js";import"./app-scenes-form.07f7a30a.js";import"./vendor-react-redux.ca23f922.js";import"./app-redux-physics-thunks.c58b7b1a.js";import"./app-other-components.5e297c7e.js";import{y as n}from"./app-core.4fc76094.js";import"./app-redux-scene-thunks.d96f7130.js";import"./app-services-api.399edcf9.js";import{P as s}from"./vendor-react-props.65efe0a6.js";import{u as r}from"./vendor-react-router.6468192e.js";const t=({scene:s,onEdit:t,onDelete:i,isOwner:a=!1})=>{const c=r(),d=n;if(!s||!s.id)return e.jsx("div",{className:"scene-card-container scene-card-error",children:e.jsxs("div",{className:"scene-card-content",children:[e.jsx("h3",{className:"scene-card-title",children:"Error: Invalid Scene"}),e.jsx("p",{className:"scene-card-description",children:"This scene contains invalid data and cannot be displayed correctly."})]})});const o=e=>{if(e.preventDefault(),e.stopPropagation(),!s.universe_id)return;const n=s.universe_id;c(`/universes/${n}/scenes/${s.id}`)},p=e=>{if(!e)return"N/A";try{const n=new Date(e);return isNaN(n.getTime())?"N/A":n.toLocaleDateString()}catch(n){return"N/A"}};return!0===s.is_deleted?null:e.jsxs("div",{className:"scene-card-container",children:[e.jsxs("div",{className:"scene-card",onClick:e=>{e.preventDefault(),e.stopPropagation(),o(e)},children:[e.jsxs("div",{className:"scene-card-image",children:[e.jsx("img",{src:s.image_url||d,alt:s.title||s.name||"Scene",onError:e=>{e.target.onerror=null,e.target.src=d}}),s.scene_type&&e.jsx("div",{className:"scene-type-badge",children:s.scene_type})]}),e.jsxs("div",{className:"scene-card-content",children:[e.jsx("h3",{className:"scene-card-title",children:s.title||s.name||"Untitled Scene"}),e.jsx("p",{className:"scene-card-description",children:s.description?s.description.length>100?`${s.description.substring(0,100)}...`:s.description:"No description provided"}),e.jsxs("div",{className:"scene-card-meta",children:[e.jsxs("span",{className:"scene-card-date",children:["Created: ",p(s.created_at)]}),s.updated_at&&e.jsxs("span",{className:"scene-card-date",children:["Updated: ",p(s.updated_at)]}),void 0!==s.order&&e.jsxs("span",{className:"scene-card-order",children:["Order: ",s.order]})]})]})]}),e.jsxs("div",{className:"scene-card-actions",children:[e.jsx("button",{className:"btn-view",onClick:o,title:"View Scene",type:"button",children:"View"}),e.jsx("button",{className:"btn-edit",onClick:e=>{if(e.preventDefault(),e.stopPropagation(),t)return void t(s);const n=`/scenes/${s.id}/edit`;c(n,{replace:!0})},title:"Edit Scene",type:"button",children:"Edit"}),i&&e.jsx("button",{className:"btn-delete",onClick:e=>{e.preventDefault(),e.stopPropagation(),i&&i(s)},title:"Delete Scene",type:"button",children:"Delete"})]})]})};t.propTypes={scene:s.shape({id:s.oneOfType([s.string,s.number]).isRequired,name:s.string,title:s.string,description:s.string,image_url:s.string,scene_type:s.string,order:s.number,created_at:s.oneOfType([s.string,s.number]),updated_at:s.oneOfType([s.string,s.number]),universe_id:s.oneOfType([s.string,s.number]).isRequired,is_deleted:s.bool}).isRequired,onEdit:s.func,onDelete:s.func,isOwner:s.bool},s.shape({id:s.oneOfType([s.string,s.number]).isRequired,name:s.string,title:s.string}).isRequired,s.func.isRequired,s.func.isRequired,s.shape({id:s.oneOfType([s.string,s.number]).isRequired,name:s.string,title:s.string,description:s.string,image_url:s.string,scene_type:s.string,order:s.number,created_at:s.oneOfType([s.string,s.number]),updated_at:s.oneOfType([s.string,s.number]),universe_id:s.oneOfType([s.string,s.number])}).isRequired,s.func.isRequired,s.shape({id:s.oneOfType([s.string,s.number]).isRequired,name:s.string,title:s.string,description:s.string,image_url:s.string,created_at:s.oneOfType([s.string,s.number])}).isRequired,s.func,s.func;export{t as S};
