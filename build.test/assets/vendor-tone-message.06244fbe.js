import{_ as n,k as o}from"./vendor-tone-esm.8edb30e2.js";import{u as e,n as t,p as r,o as i,d as s}from"./vendor-tone-icons.388eb8da.js";import{c as a}from"./vendor-tone-classnames.ea5eadd4.js";import{Q as c}from"./vendor-tone-es.9387ac1c.js";import{r as l}from"./vendor-react-core.73efc664.js";import{C as f,g as u}from"./vendor-tone-config-provider.2fc53c46.js";import{am as m}from"./vendor-tone-hooks.ee856eec.js";var p,C,v,d,x=3,y=1,g="",P="move-up",j=!1,k=!1;function N(){return y++}function w(n,o){var e=n.prefixCls,t=n.getPopupContainer,r=u(),i=r.getPrefixCls,s=r.getRootPrefixCls,a=r.getIconPrefixCls,l=i("message",e||g),f=s(n.rootPrefixCls,l),m=a();if(p)o({prefixCls:l,rootPrefixCls:f,iconPrefixCls:m,instance:p});else{var x={prefixCls:l,transitionName:j?P:"".concat(f,"-").concat(P),style:{top:C},getContainer:v||t,maxCount:d};c.newInstance(x,(function(n){p?o({prefixCls:l,rootPrefixCls:f,iconPrefixCls:m,instance:p}):(p=n,o({prefixCls:l,rootPrefixCls:f,iconPrefixCls:m,instance:n}))}))}}var E={info:e,success:t,error:r,warning:i,loading:s},b=Object.keys(E);function h(n,e,t){var r=void 0!==n.duration?n.duration:x,i=E[n.type],s=a("".concat(e,"-custom-content"),o(o({},"".concat(e,"-").concat(n.type),n.type),"".concat(e,"-rtl"),!0===k));return{key:n.key,duration:r,style:n.style||{},className:n.className,content:l.createElement(f,{iconPrefixCls:t},l.createElement("div",{className:s},n.icon||i&&l.createElement(i,null),l.createElement("span",null,n.content))),onClose:n.onClose,onClick:n.onClick}}var O={open:function(o){var e=o.key||N(),t=new Promise((function(t){var r=function(){return"function"==typeof o.onClose&&o.onClose(),t(!0)};w(o,(function(t){var i=t.prefixCls,s=t.iconPrefixCls;t.instance.notice(h(n(n({},o),{key:e,onClose:r}),i,s))}))})),r=function(){var n;p&&(p.removeNotice(e),null===(n=o.onClose)||void 0===n||n.call(o))};return r.then=function(n,o){return t.then(n,o)},r.promise=t,r},config:function(n){void 0!==n.top&&(C=n.top,p=null),void 0!==n.duration&&(x=n.duration),void 0!==n.prefixCls&&(g=n.prefixCls),void 0!==n.getContainer&&(v=n.getContainer,p=null),void 0!==n.transitionName&&(P=n.transitionName,p=null,j=!0),void 0!==n.maxCount&&(d=n.maxCount,p=null),void 0!==n.rtl&&(k=n.rtl)},destroy:function(n){p&&(n?(0,p.removeNotice)(n):((0,p.destroy)(),p=null))}};function I(o,e){o[e]=function(t,r,i){return function(n){return"[object Object]"===Object.prototype.toString.call(n)&&!!n.content}(t)?o.open(n(n({},t),{type:e})):("function"==typeof r&&(i=r,r=void 0),o.open({content:t,duration:r,type:e,onClose:i}))}}b.forEach((function(n){return I(O,n)})),O.warn=O.warning,O.useMessage=m(w,h);const F=O;export{I as a,N as g,F as m,b as t};
