import{_ as e,m as r,a}from"./vendor-tone-esm.8edb30e2.js";import{r as t,j as o}from"./vendor-react-core.73efc664.js";import{c as s}from"./vendor-tone-dist.6485732f.js";import{u as n}from"./vendor-tone-RtlProvider.df0b182e.js";import{g as l,a as i,q as u,D as c,e as d,U as f,V as p,w as m,d as v,b,Z as y}from"./vendor-tone-util.a79eb63f.js";import{s as h,E as g}from"./vendor-mui-core.4359195f.js";import{f as Y,d as w,c as x,h as D}from"./vendor-tone-hooks.ee856eec.js";import{b as C,M as P}from"./vendor-tone-constants.d67dcaf6.js";function k(e){return i("MuiPickersYear",e)}const F=l("MuiPickersYear",["root","yearButton","selected","disabled"]),R=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],B=h("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(e,r)=>[r.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),j=h("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(e,r)=>[r.yearButton,{[`&.${F.disabled}`]:r.disabled},{[`&.${F.selected}`]:r.selected}]})((({theme:a})=>e({color:"unset",backgroundColor:"transparent",border:0,outline:0},a.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:a.vars?`rgba(${a.vars.palette.action.activeChannel} / ${a.vars.palette.action.focusOpacity})`:r(a.palette.action.active,a.palette.action.focusOpacity)},"&:hover":{backgroundColor:a.vars?`rgba(${a.vars.palette.action.activeChannel} / ${a.vars.palette.action.hoverOpacity})`:r(a.palette.action.active,a.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${F.disabled}`]:{color:(a.vars||a).palette.text.secondary},[`&.${F.selected}`]:{color:(a.vars||a).palette.primary.contrastText,backgroundColor:(a.vars||a).palette.primary.main,"&:focus, &:hover":{backgroundColor:(a.vars||a).palette.primary.dark}}}))),M=t.memo((function(r){const n=g({props:r,name:"MuiPickersYear"}),{autoFocus:l,className:i,children:f,disabled:p,selected:m,value:v,tabIndex:b,onClick:y,onKeyDown:h,onFocus:Y,onBlur:w,"aria-current":x,slots:D,slotProps:C}=n,P=a(n,R),F=t.useRef(null),M=(e=>{const{disabled:r,selected:a,classes:t}=e;return d({root:["root"],yearButton:["yearButton",r&&"disabled",a&&"selected"]},k,t)})(n);u((()=>{var e;l&&(null==(e=F.current)||e.focus())}),[l]);const O=(null==D?void 0:D.yearButton)??j,I=c({elementType:O,externalSlotProps:null==C?void 0:C.yearButton,additionalProps:{children:f,disabled:p,tabIndex:b,ref:F,type:"button",role:"radio","aria-current":x,"aria-checked":m,onClick:e=>y(e,v),onKeyDown:e=>h(e,v),onFocus:e=>Y(e,v),onBlur:e=>w(e,v)},ownerState:n,className:M.yearButton});return o.jsx(B,e({className:s(M.root,i),ownerState:n},P,{children:o.jsx(O,e({},I))}))}));function O(e){return i("MuiYearCalendar",e)}l("MuiYearCalendar",["root"]);const I=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"];const V=h("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(e,r)=>r.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:C,maxHeight:P,boxSizing:"border-box",position:"relative"}),$=t.forwardRef((function(r,l){const i=function(r,a){const t=x(),o=D(),s=g({props:r,name:a});return e({disablePast:!1,disableFuture:!1},s,{yearsPerRow:s.yearsPerRow??3,minDate:y(t,s.minDate,o.minDate),maxDate:y(t,s.maxDate,o.maxDate)})}(r,"MuiYearCalendar"),{autoFocus:u,className:c,value:h,defaultValue:C,referenceDate:P,disabled:k,disableFuture:F,disablePast:R,maxDate:B,minDate:j,onChange:$,readOnly:z,shouldDisableYear:A,onYearFocus:N,hasFocus:S,onFocusedViewChange:T,yearsOrder:E="asc",yearsPerRow:H,timezone:K,gridLabelId:L,slots:q,slotProps:U}=i,W=a(i,I),{value:Z,handleValueChange:_,timezone:G}=Y({name:"YearCalendar",timezone:K,value:h,defaultValue:C,referenceDate:P,onChange:$,valueManager:f}),J=w(G),Q=n(),X=x(),ee=t.useMemo((()=>f.getInitialReferenceValue({value:Z,utils:X,props:i,timezone:G,referenceDate:P,granularity:p.year})),[]),re=i,ae=(e=>{const{classes:r}=e;return d({root:["root"]},O,r)})(re),te=t.useMemo((()=>X.getYear(J)),[X,J]),oe=t.useMemo((()=>null!=Z?X.getYear(Z):null),[Z,X]),[se,ne]=t.useState((()=>oe||X.getYear(ee))),[le,ie]=m({name:"YearCalendar",state:"hasFocus",controlled:S,default:u??!1}),ue=v((e=>{ie(e),T&&T(e)})),ce=t.useCallback((e=>{if(R&&X.isBeforeYear(e,J))return!0;if(F&&X.isAfterYear(e,J))return!0;if(j&&X.isBeforeYear(e,j))return!0;if(B&&X.isAfterYear(e,B))return!0;if(!A)return!1;const r=X.startOfYear(e);return A(r)}),[F,R,B,j,J,A,X]),de=v(((e,r)=>{if(z)return;const a=X.setYear(Z??ee,r);_(a)})),fe=v((e=>{ce(X.setYear(Z??ee,e))||(ne(e),ue(!0),null==N||N(e))}));t.useEffect((()=>{ne((e=>null!==oe&&e!==oe?oe:e))}),[oe]);const pe="desc"!==E?1*H:-1*H,me=Q&&"asc"===E||!Q&&"desc"===E?-1:1,ve=v(((e,r)=>{switch(e.key){case"ArrowUp":fe(r-pe),e.preventDefault();break;case"ArrowDown":fe(r+pe),e.preventDefault();break;case"ArrowLeft":fe(r-me),e.preventDefault();break;case"ArrowRight":fe(r+me),e.preventDefault()}})),be=v(((e,r)=>{fe(r)})),ye=v(((e,r)=>{se===r&&ue(!1)})),he=t.useRef(null),ge=b(l,he);t.useEffect((()=>{if(u||null===he.current)return;const e=he.current.querySelector('[tabindex="0"]');if(!e)return;const r=e.offsetHeight,a=e.offsetTop,t=he.current.clientHeight,o=he.current.scrollTop,s=a+r;r>t||a<o||(he.current.scrollTop=s-t/2-r/2)}),[u]);const Ye=X.getYearRange([j,B]);return"desc"===E&&Ye.reverse(),o.jsx(V,e({ref:ge,className:s(ae.root,c),ownerState:re,role:"radiogroup","aria-labelledby":L},W,{children:Ye.map((e=>{const r=X.getYear(e),a=r===oe,t=k||ce(e);return o.jsx(M,{selected:a,value:r,onClick:de,onKeyDown:ve,autoFocus:le&&r===se,disabled:t,tabIndex:r!==se||t?-1:0,onFocus:be,onBlur:ye,"aria-current":te===r?"date":void 0,yearsPerRow:H,slots:q,slotProps:U,children:X.format(e,"year")},X.format(e,"year"))}))}))}));export{$ as Y};
